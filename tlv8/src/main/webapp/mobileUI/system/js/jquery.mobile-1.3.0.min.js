
(function(root,doc,factory){if(typeof define==="function"&&define.amd){define(["jquery"],function($){factory($,root,doc);return $.mobile;});}else{factory(root.jQuery,root,doc);}}(this,document,function(jQuery,window,document,undefined){(function($){$.mobile={};}(jQuery));(function($,window,undefined){var nsNormalizeDict={};$.mobile=$.extend($.mobile,{version:"1.3.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:false,autoInitializePage:true,pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},window:$(window),document:$(document),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(ypos){if($.type(ypos)!=="number"){ypos=$.mobile.defaultHomeScroll;}
$.event.special.scrollstart.enabled=false;setTimeout(function(){window.scrollTo(0,ypos);$.mobile.document.trigger("silentscroll",{x:0,y:ypos});},20);setTimeout(function(){$.event.special.scrollstart.enabled=true;},150);},nsNormalizeDict:nsNormalizeDict,nsNormalize:function(prop){if(!prop){return;}
return nsNormalizeDict[prop]||(nsNormalizeDict[prop]=$.camelCase($.mobile.ns+prop));},getInheritedTheme:function(el,defaultTheme){var e=el[0],ltr="",re=/ui-(bar|body|overlay)-([a-z])\b/,c,m;while(e){c=e.className||"";if(c&&(m=re.exec(c))&&(ltr=m[2])){break;}
e=e.parentNode;}
return ltr||defaultTheme||"a";},closestPageData:function($target){return $target.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page");},enhanceable:function($set){return this.haveParents($set,"enhance");},hijackable:function($set){return this.haveParents($set,"ajax");},haveParents:function($set,attr){if(!$.mobile.ignoreContentEnabled){return $set;}
var count=$set.length,$newSet=$(),e,$element,excluded;for(var i=0;i<count;i++){$element=$set.eq(i);excluded=false;e=$set[i];while(e){var c=e.getAttribute?e.getAttribute("data-"+$.mobile.ns+attr):"";if(c==="false"){excluded=true;break;}
e=e.parentNode;}
if(!excluded){$newSet=$newSet.add($element);}}
return $newSet;},getScreenHeight:function(){return window.innerHeight||$.mobile.window.height();}},$.mobile);$.fn.jqmData=function(prop,value){var result;if(typeof prop!=="undefined"){if(prop){prop=$.mobile.nsNormalize(prop);}
if(arguments.length<2||value===undefined){result=this.data(prop);}else{result=this.data(prop,value);}}
return result;};$.jqmData=function(elem,prop,value){var result;if(typeof prop!=="undefined"){result=$.data(elem,prop?$.mobile.nsNormalize(prop):prop,value);}
return result;};$.fn.jqmRemoveData=function(prop){return this.removeData($.mobile.nsNormalize(prop));};$.jqmRemoveData=function(elem,prop){return $.removeData(elem,$.mobile.nsNormalize(prop));};$.fn.removeWithDependents=function(){$.removeWithDependents(this);};$.removeWithDependents=function(elem){var $elem=$(elem);($elem.jqmData('dependents')||$()).remove();$elem.remove();};$.fn.addDependents=function(newDependents){$.addDependents($(this),newDependents);};$.addDependents=function(elem,newDependents){var dependents=$(elem).jqmData('dependents')||$();$(elem).jqmData('dependents',$.merge(dependents,newDependents));};$.fn.getEncodedText=function(){return $("<div/>").text($(this).text()).html();};$.fn.jqmEnhanceable=function(){return $.mobile.enhanceable(this);};$.fn.jqmHijackable=function(){return $.mobile.hijackable(this);};var oldFind=$.find,jqmDataRE=/:jqmData\(([^)]*)\)/g;$.find=function(selector,context,ret,extra){selector=selector.replace(jqmDataRE,"[data-"+($.mobile.ns||"")+"$1]");return oldFind.call(this,selector,context,ret,extra);};$.extend($.find,oldFind);$.find.matches=function(expr,set){return $.find(expr,null,null,set);};$.find.matchesSelector=function(node,expr){return $.find(expr,null,null,[node]).length>0;};})(jQuery,this);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if($.isFunction(value)){prototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();}});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},prototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(value===undefined){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(value===undefined){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});})(jQuery);(function($,undefined){$.widget("mobile.widget",{_createWidget:function(){$.Widget.prototype._createWidget.apply(this,arguments);this._trigger('init');},_getCreateOptions:function(){var elem=this.element,options={};$.each(this.options,function(option){var value=elem.jqmData(option.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase();}));if(value!==undefined){options[option]=value;}});return options;},enhanceWithin:function(target,useKeepNative){this.enhance($(this.options.initSelector,$(target)),useKeepNative);},enhance:function(targets,useKeepNative){var page,keepNative,$widgetElements=$(targets),self=this;$widgetElements=$.mobile.enhanceable($widgetElements);if(useKeepNative&&$widgetElements.length){page=$.mobile.closestPageData($widgetElements);keepNative=(page&&page.keepNativeSelector())||"";$widgetElements=$widgetElements.not(keepNative);}
$widgetElements[this.widgetName]();},raise:function(msg){throw"Widget ["+this.widgetName+"]: "+msg;}});})(jQuery);(function($,window){$.extend($.mobile,{loadingMessageTextVisible:undefined,loadingMessageTheme:undefined,loadingMessage:undefined,showPageLoadingMsg:function(theme,msgText,textonly){$.mobile.loading('show',theme,msgText,textonly);},hidePageLoadingMsg:function(){$.mobile.loading('hide');},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments);}});var loaderClass="ui-loader",$html=$("html"),$window=$.mobile.window;$.widget("mobile.loader",{options:{theme:"a",textVisible:false,html:"",text:"loading"},defaultHtml:"<div class='"+loaderClass+"'>"+"<span class='ui-icon ui-icon-loading'></span>"+"<h1></h1>"+"</div>",fakeFixLoader:function(){var activeBtn=$("."+$.mobile.activeBtnClass).first();this.element.css({top:$.support.scrollTop&&$window.scrollTop()+$window.height()/2||activeBtn.length&&activeBtn.offset().top||100});},checkLoaderPosition:function(){var offset=this.element.offset(),scrollTop=$window.scrollTop(),screenHeight=$.mobile.getScreenHeight();if(offset.top<scrollTop||(offset.top-scrollTop)>screenHeight){this.element.addClass("ui-loader-fakefix");this.fakeFixLoader();$window.unbind("scroll",this.checkLoaderPosition).bind("scroll",$.proxy(this.fakeFixLoader,this));}},resetHtml:function(){this.element.html($(this.defaultHtml).html());},show:function(theme,msgText,textonly){var textVisible,message,$header,loadSettings;this.resetHtml();if($.type(theme)==="object"){loadSettings=$.extend({},this.options,theme);theme=loadSettings.theme||$.mobile.loadingMessageTheme;}else{loadSettings=this.options;theme=theme||$.mobile.loadingMessageTheme||loadSettings.theme;}
message=msgText||$.mobile.loadingMessage||loadSettings.text;$html.addClass("ui-loading");if($.mobile.loadingMessage!==false||loadSettings.html){if($.mobile.loadingMessageTextVisible!==undefined){textVisible=$.mobile.loadingMessageTextVisible;}else{textVisible=loadSettings.textVisible;}
this.element.attr("class",loaderClass+" ui-corner-all ui-body-"+theme+" ui-loader-"+(textVisible||msgText||theme.text?"verbose":"default")+
(loadSettings.textonly||textonly?" ui-loader-textonly":""));if(loadSettings.html){this.element.html(loadSettings.html);}else{this.element.find("h1").text(message);}
this.element.appendTo($.mobile.pageContainer);this.checkLoaderPosition();$window.bind("scroll",$.proxy(this.checkLoaderPosition,this));}},hide:function(){$html.removeClass("ui-loading");if($.mobile.loadingMessage){this.element.removeClass("ui-loader-fakefix");}
$.mobile.window.unbind("scroll",this.fakeFixLoader);$.mobile.window.unbind("scroll",this.checkLoaderPosition);}});$window.bind('pagecontainercreate',function(){$.mobile.loaderWidget=$.mobile.loaderWidget||$($.mobile.loader.prototype.defaultHtml).loader();});})(jQuery,this);(function($,window,undefined){var str_hashchange='hashchange',doc=document,fake_onhashchange,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange='on'+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);function get_fragment(url){url=url||location.href;return'#'+url.replace(/^[^#]*#?(.*)$/,'$1');};$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange);};$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange){return false;}
$(fake_onhashchange.start);},teardown:function(){if(supports_onhashchange){return false;}
$(fake_onhashchange.stop);}});fake_onhashchange=(function(){var self={},timeout_id,last_hash=get_fragment(),fn_retval=function(val){return val;},history_set=fn_retval,history_get=fn_retval;self.start=function(){timeout_id||poll();};self.stop=function(){timeout_id&&clearTimeout(timeout_id);timeout_id=undefined;};function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);if(hash!==last_hash){history_set(last_hash=hash,history_hash);$(window).trigger(str_hashchange);}else if(history_hash!==last_hash){location.href=location.href.replace(/#.*/,'')+history_hash;}
timeout_id=setTimeout(poll,$.fn[str_hashchange].delay);};window.attachEvent&&!window.addEventListener&&!supports_onhashchange&&(function(){var iframe,iframe_src;self.start=function(){if(!iframe){iframe_src=$.fn[str_hashchange].src;iframe_src=iframe_src&&iframe_src+get_fragment();iframe=$('<iframe tabindex="-1" title="empty"/>').hide().one('load',function(){iframe_src||history_set(get_fragment());poll();}).attr('src',iframe_src||'javascript:0').insertAfter('body')[0].contentWindow;doc.onpropertychange=function(){try{if(event.propertyName==='title'){iframe.document.title=doc.title;}}catch(e){}};}};self.stop=fn_retval;history_get=function(){return get_fragment(iframe.location.href);};history_set=function(hash,history_hash){var iframe_doc=iframe.document,domain=$.fn[str_hashchange].domain;if(hash!==history_hash){iframe_doc.title=doc.title;iframe_doc.open();domain&&iframe_doc.write('<script>document.domain="'+domain+'"</script>');iframe_doc.close();iframe.location.hash=hash;}};})();return self;})();})(jQuery,this);(function($,undefined){window.matchMedia=window.matchMedia||(function(doc,undefined){var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement("body"),div=doc.createElement("div");div.id="mq-test-1";div.style.cssText="position:absolute;top:-100em";fakeBody.style.background="none";fakeBody.appendChild(div);return function(q){div.innerHTML="&shy;<style media=\""+q+"\"> #mq-test-1 { width: 42px; }</style>";docElem.insertBefore(fakeBody,refNode);bool=div.offsetWidth===42;docElem.removeChild(fakeBody);return{matches:bool,media:q};};}(document));$.mobile.media=function(q){return window.matchMedia(q).matches;};})(jQuery);(function($,undefined){var support={touch:"ontouchend"in document};$.mobile.support=$.mobile.support||{};$.extend($.support,support);$.extend($.mobile.support,support);}(jQuery));(function($,undefined){$.extend($.support,{orientation:"orientation"in window&&"onorientationchange"in window});}(jQuery));(function($,undefined){function propExists(prop){var uc_prop=prop.charAt(0).toUpperCase()+prop.substr(1),props=(prop+" "+vendors.join(uc_prop+" ")+uc_prop).split(" ");for(var v in props){if(fbCSS[props[v]]!==undefined){return true;}}}
var fakeBody=$("<body>").prependTo("html"),fbCSS=fakeBody[0].style,vendors=["Webkit","Moz","O"],webos="palmGetResource"in window,opera=window.opera,operamini=window.operamini&&({}).toString.call(window.operamini)==="[object OperaMini]",bb=window.blackberry&&!propExists("-webkit-transform");function validStyle(prop,value,check_vend){var div=document.createElement('div'),uc=function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1);},vend_pref=function(vend){if(vend===""){return"";}else{return"-"+vend.charAt(0).toLowerCase()+vend.substr(1)+"-";}},check_style=function(vend){var vend_prop=vend_pref(vend)+prop+": "+value+";",uc_vend=uc(vend),propStyle=uc_vend+(uc_vend===""?prop:uc(prop));div.setAttribute("style",vend_prop);if(!!div.style[propStyle]){ret=true;}},check_vends=check_vend?check_vend:vendors,ret;for(var i=0;i<check_vends.length;i++){check_style(check_vends[i]);}
return!!ret;}
function transform3dTest(){var mqProp="transform-3d",ret=$.mobile.media("(-"+vendors.join("-"+mqProp+"),(-")+"-"+mqProp+"),("+mqProp+")");if(ret){return!!ret;}
var el=document.createElement("div"),transforms={'MozTransform':'-moz-transform','transform':'transform'};fakeBody.append(el);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]='translate3d( 100px, 1px, 1px )';ret=window.getComputedStyle(el).getPropertyValue(transforms[t]);}}
return(!!ret&&ret!=="none");}
function baseTagTest(){var fauxBase=location.protocol+"//"+location.host+location.pathname+"ui-dir/",base=$("head base"),fauxEle=null,href="",link,rebase;if(!base.length){base=fauxEle=$("<base>",{"href":fauxBase}).appendTo("head");}else{href=base.attr("href");}
link=$("<a href='testurl' />").prependTo(fakeBody);rebase=link[0].href;base[0].href=href||location.pathname;if(fauxEle){fauxEle.remove();}
return rebase.indexOf(fauxBase)===0;}
function cssPointerEventsTest(){var element=document.createElement('x'),documentElement=document.documentElement,getComputedStyle=window.getComputedStyle,supports;if(!('pointerEvents'in element.style)){return false;}
element.style.pointerEvents='auto';element.style.pointerEvents='x';documentElement.appendChild(element);supports=getComputedStyle&&getComputedStyle(element,'').pointerEvents==='auto';documentElement.removeChild(element);return!!supports;}
function boundingRect(){var div=document.createElement("div");return typeof div.getBoundingClientRect!=="undefined";}
$.extend($.mobile,{browser:{}});$.mobile.browser.oldIE=(function(){var v=3,div=document.createElement("div"),a=div.all||[];do{div.innerHTML="<!--[if gt IE "+(++v)+"]><br><![endif]-->";}while(a[0]);return v>4?v:!v;})();function fixedPosition(){var w=window,ua=navigator.userAgent,platform=navigator.platform,wkmatch=ua.match(/AppleWebKit\/([0-9]+)/),wkversion=!!wkmatch&&wkmatch[1],ffmatch=ua.match(/Fennec\/([0-9]+)/),ffversion=!!ffmatch&&ffmatch[1],operammobilematch=ua.match(/Opera Mobi\/([0-9]+)/),omversion=!!operammobilematch&&operammobilematch[1];if(((platform.indexOf("iPhone")>-1||platform.indexOf("iPad")>-1||platform.indexOf("iPod")>-1)&&wkversion&&wkversion<534)||(w.operamini&&({}).toString.call(w.operamini)==="[object OperaMini]")||(operammobilematch&&omversion<7458)||(ua.indexOf("Android")>-1&&wkversion&&wkversion<533)||(ffversion&&ffversion<6)||("palmGetResource"in window&&wkversion&&wkversion<534)||(ua.indexOf("MeeGo")>-1&&ua.indexOf("NokiaBrowser/8.5.0")>-1)){return false;}
return true;}
$.extend($.support,{cssTransitions:"WebKitTransitionEvent"in window||validStyle('transition','height 100ms linear',["Webkit","Moz",""])&&!$.mobile.browser.oldIE&&!opera,pushState:"pushState"in history&&"replaceState"in history&&(window.navigator.userAgent.search(/CriOS/)===-1),mediaquery:$.mobile.media("only all"),cssPseudoElement:!!propExists("content"),touchOverflow:!!propExists("overflowScrolling"),cssTransform3d:transform3dTest(),boxShadow:!!propExists("boxShadow")&&!bb,fixedPosition:fixedPosition(),scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in fakeBody[0])&&!webos&&!operamini,dynamicBaseTag:baseTagTest(),cssPointerEvents:cssPointerEventsTest(),boundingRect:boundingRect()});fakeBody.remove();var nokiaLTE7_3=(function(){var ua=window.navigator.userAgent;return ua.indexOf("Nokia")>-1&&(ua.indexOf("Symbian/3")>-1||ua.indexOf("Series60/5")>-1)&&ua.indexOf("AppleWebKit")>-1&&ua.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/);})();$.mobile.gradeA=function(){return($.support.mediaquery||$.mobile.browser.oldIE&&$.mobile.browser.oldIE>=7)&&($.support.boundingRect||$.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null);};$.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||operamini||nokiaLTE7_3;if(nokiaLTE7_3){$(function(){$("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet");});}
if(!$.support.boxShadow){$("html").addClass("ui-mobile-nosupport-boxshadow");}})(jQuery);(function($,undefined){var $win=$.mobile.window,self,history;$.event.special.navigate=self={bound:false,pushStateEnabled:true,originalEventName:undefined,isPushStateEnabled:function(){return $.support.pushState&&$.mobile.pushStateEnabled===true&&this.isHashChangeEnabled();},isHashChangeEnabled:function(){return $.mobile.hashListeningEnabled===true;},popstate:function(event){var newEvent=new $.Event("navigate"),beforeNavigate=new $.Event("beforenavigate"),state=event.originalEvent.state||{},href=location.href;$win.trigger(beforeNavigate);if(beforeNavigate.isDefaultPrevented()){return;}
if(event.historyState){$.extend(state,event.historyState);}
newEvent.originalEvent=event;setTimeout(function(){$win.trigger(newEvent,{state:state});},0);},hashchange:function(event,data){var newEvent=new $.Event("navigate"),beforeNavigate=new $.Event("beforenavigate");$win.trigger(beforeNavigate);if(beforeNavigate.isDefaultPrevented()){return;}
newEvent.originalEvent=event;$win.trigger(newEvent,{state:event.hashchangeState||{}});},setup:function(data,namespaces){if(self.bound){return;}
self.bound=true;if(self.isPushStateEnabled()){self.originalEventName="popstate";$win.bind("popstate.navigate",self.popstate);}else if(self.isHashChangeEnabled()){self.originalEventName="hashchange";$win.bind("hashchange.navigate",self.hashchange);}}};})(jQuery);(function($,undefined){var path,documentBase,$base,dialogHashKey="&ui-state=dialog";$.mobile.path=path={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(url){var uri=url?this.parseUrl(url):location,hash=this.parseUrl(url||location.href).hash;hash=hash==="#"?"":hash;return uri.protocol+"//"+uri.host+uri.pathname+uri.search+hash;},parseLocation:function(){return this.parseUrl(this.getLocation());},parseUrl:function(url){if($.type(url)==="object"){return url;}
var matches=path.urlParseRE.exec(url||"")||[];return{href:matches[0]||"",hrefNoHash:matches[1]||"",hrefNoSearch:matches[2]||"",domain:matches[3]||"",protocol:matches[4]||"",doubleSlash:matches[5]||"",authority:matches[6]||"",username:matches[8]||"",password:matches[9]||"",host:matches[10]||"",hostname:matches[11]||"",port:matches[12]||"",pathname:matches[13]||"",directory:matches[14]||"",filename:matches[15]||"",search:matches[16]||"",hash:matches[17]||""};},makePathAbsolute:function(relPath,absPath){if(relPath&&relPath.charAt(0)==="/"){return relPath;}
relPath=relPath||"";absPath=absPath?absPath.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";var absStack=absPath?absPath.split("/"):[],relStack=relPath.split("/");for(var i=0;i<relStack.length;i++){var d=relStack[i];switch(d){case".":break;case"..":if(absStack.length){absStack.pop();}
break;default:absStack.push(d);break;}}
return"/"+absStack.join("/");},isSameDomain:function(absUrl1,absUrl2){return path.parseUrl(absUrl1).domain===path.parseUrl(absUrl2).domain;},isRelativeUrl:function(url){return path.parseUrl(url).protocol==="";},isAbsoluteUrl:function(url){return path.parseUrl(url).protocol!=="";},makeUrlAbsolute:function(relUrl,absUrl){if(!path.isRelativeUrl(relUrl)){return relUrl;}
if(absUrl===undefined){absUrl=this.documentBase;}
var relObj=path.parseUrl(relUrl),absObj=path.parseUrl(absUrl),protocol=relObj.protocol||absObj.protocol,doubleSlash=relObj.protocol?relObj.doubleSlash:(relObj.doubleSlash||absObj.doubleSlash),authority=relObj.authority||absObj.authority,hasPath=relObj.pathname!=="",pathname=path.makePathAbsolute(relObj.pathname||absObj.filename,absObj.pathname),search=relObj.search||(!hasPath&&absObj.search)||"",hash=relObj.hash;return protocol+doubleSlash+authority+pathname+search+hash;},addSearchParams:function(url,params){var u=path.parseUrl(url),p=(typeof params==="object")?$.param(params):params,s=u.search||"?";return u.hrefNoSearch+s+(s.charAt(s.length-1)!=="?"?"&":"")+p+(u.hash||"");},convertUrlToDataUrl:function(absUrl){var u=path.parseUrl(absUrl);if(path.isEmbeddedPage(u)){return u.hash.split(dialogHashKey)[0].replace(/^#/,"").replace(/\?.*$/,"");}else if(path.isSameDomain(u,this.documentBase)){return u.hrefNoHash.replace(this.documentBase.domain,"").split(dialogHashKey)[0];}
return window.decodeURIComponent(absUrl);},get:function(newPath){if(newPath===undefined){newPath=path.parseLocation().hash;}
return path.stripHash(newPath).replace(/[^\/]*\.[^\/*]+$/,'');},set:function(path){location.hash=path;},isPath:function(url){return(/\//).test(url);},clean:function(url){return url.replace(this.documentBase.domain,"");},stripHash:function(url){return url.replace(/^#/,"");},stripQueryParams:function(url){return url.replace(/\?.*$/,"");},cleanHash:function(hash){return path.stripHash(hash.replace(/\?.*$/,"").replace(dialogHashKey,""));},isHashValid:function(hash){return(/^#[^#]+$/).test(hash);},isExternal:function(url){var u=path.parseUrl(url);return u.protocol&&u.domain!==this.documentUrl.domain?true:false;},hasProtocol:function(url){return(/^(:?\w+:)/).test(url);},isEmbeddedPage:function(url){var u=path.parseUrl(url);if(u.protocol!==""){return(!this.isPath(u.hash)&&u.hash&&(u.hrefNoHash===this.documentUrl.hrefNoHash||(this.documentBaseDiffers&&u.hrefNoHash===this.documentBase.hrefNoHash)));}
return(/^#/).test(u.href);},squash:function(url,resolutionUrl){var state,href,cleanedUrl,search,stateIndex,isPath=this.isPath(url),uri=this.parseUrl(url),preservedHash=uri.hash,uiState="";resolutionUrl=resolutionUrl||(path.isPath(url)?path.getLocation():path.getDocumentUrl());cleanedUrl=isPath?path.stripHash(url):url;cleanedUrl=path.isPath(uri.hash)?path.stripHash(uri.hash):cleanedUrl;stateIndex=cleanedUrl.indexOf(this.uiStateKey);if(stateIndex>-1){uiState=cleanedUrl.slice(stateIndex);cleanedUrl=cleanedUrl.slice(0,stateIndex);}
href=path.makeUrlAbsolute(cleanedUrl,resolutionUrl);search=this.parseUrl(href).search;if(isPath){if(path.isPath(preservedHash)||preservedHash.replace("#","").indexOf(this.uiStateKey)===0){preservedHash="";}
if(uiState&&preservedHash.indexOf(this.uiStateKey)===-1){preservedHash+=uiState;}
if(preservedHash.indexOf("#")===-1&&preservedHash!==""){preservedHash="#"+preservedHash;}
href=path.parseUrl(href);href=href.protocol+"//"+href.host+href.pathname+search+preservedHash;}else{href+=href.indexOf("#")>-1?uiState:"#"+uiState;}
return href;},isPreservableHash:function(hash){return hash.replace("#","").indexOf(this.uiStateKey)===0;}};path.documentUrl=path.parseLocation();$base=$("head").find("base");path.documentBase=$base.length?path.parseUrl(path.makeUrlAbsolute($base.attr("href"),path.documentUrl.href)):path.documentUrl;path.documentBaseDiffers=(path.documentUrl.hrefNoHash!==path.documentBase.hrefNoHash);path.getDocumentUrl=function(asParsedObject){return asParsedObject?$.extend({},path.documentUrl):path.documentUrl.href;};path.getDocumentBase=function(asParsedObject){return asParsedObject?$.extend({},path.documentBase):path.documentBase.href;};})(jQuery);(function($,undefined){var path=$.mobile.path;$.mobile.History=function(stack,index){this.stack=stack||[];this.activeIndex=index||0;};$.extend($.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex];},getLast:function(){return this.stack[this.previousIndex];},getNext:function(){return this.stack[this.activeIndex+1];},getPrev:function(){return this.stack[this.activeIndex-1];},add:function(url,data){data=data||{};if(this.getNext()){this.clearForward();}
if(data.hash&&data.hash.indexOf("#")===-1){data.hash="#"+data.hash;}
data.url=url;this.stack.push(data);this.activeIndex=this.stack.length-1;},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1);},find:function(url,stack,earlyReturn){stack=stack||this.stack;var entry,i,length=stack.length,index;for(i=0;i<length;i++){entry=stack[i];if(decodeURIComponent(url)===decodeURIComponent(entry.url)||decodeURIComponent(url)===decodeURIComponent(entry.hash)){index=i;if(earlyReturn){return index;}}}
return index;},closest:function(url){var closest,a=this.activeIndex;closest=this.find(url,this.stack.slice(0,a));if(closest===undefined){closest=this.find(url,this.stack.slice(a),true);closest=closest===undefined?closest:closest+a;}
return closest;},direct:function(opts){var newActiveIndex=this.closest(opts.url),a=this.activeIndex;if(newActiveIndex!==undefined){this.activeIndex=newActiveIndex;this.previousIndex=a;}
if(newActiveIndex<a){(opts.present||opts.back||$.noop)(this.getActive(),'back');}else if(newActiveIndex>a){(opts.present||opts.forward||$.noop)(this.getActive(),'forward');}else if(newActiveIndex===undefined&&opts.missing){opts.missing(this.getActive());}}});})(jQuery);(function($,undefined){var path=$.mobile.path;$.mobile.Navigator=function(history){this.history=history;this.ignoreInitialHashChange=true;setTimeout($.proxy(function(){this.ignoreInitialHashChange=false;},this),200);$.mobile.window.bind({"popstate.history":$.proxy(this.popstate,this),"hashchange.history":$.proxy(this.hashchange,this)});};$.extend($.mobile.Navigator.prototype,{squash:function(url,data){var state,href,hash=path.isPath(url)?path.stripHash(url):url;href=path.squash(url);state=$.extend({hash:hash,url:href},data);window.history.replaceState(state,state.title||document.title,href);return state;},hash:function(url,href){var parsed,loc,hash;parsed=path.parseUrl(url);loc=path.parseLocation();if(loc.pathname+loc.search===parsed.pathname+parsed.search){hash=parsed.hash?parsed.hash:parsed.pathname+parsed.search;}else if(path.isPath(url)){var resolved=path.parseUrl(href);hash=resolved.pathname+resolved.search+(path.isPreservableHash(resolved.hash)?resolved.hash.replace("#",""):"");}else{hash=url;}
return hash;},go:function(url,data,noEvents){var state,href,hash,popstateEvent,isPopStateEvent=$.event.special.navigate.isPushStateEnabled();href=path.squash(url);hash=this.hash(url,href);if(noEvents&&hash!==path.stripHash(path.parseLocation().hash)){this.preventNextHashChange=noEvents;}
this.preventHashAssignPopState=true;window.location.hash=hash;this.preventHashAssignPopState=false;state=$.extend({url:href,hash:hash,title:document.title},data);if(isPopStateEvent){popstateEvent=new $.Event("popstate");popstateEvent.originalEvent={type:"popstate",state:null};this.squash(url,state);if(!noEvents){this.ignorePopState=true;$.mobile.window.trigger(popstateEvent);}}
this.history.add(state.url,state);},popstate:function(event){var active,hash,state,closestIndex;if(!$.event.special.navigate.isPushStateEnabled()){return;}
if(this.preventHashAssignPopState){this.preventHashAssignPopState=false;event.stopImmediatePropagation();return;}
if(this.ignorePopState){this.ignorePopState=false;return;}
if(!event.originalEvent.state&&this.history.stack.length===1&&this.ignoreInitialHashChange){this.ignoreInitialHashChange=false;return;}
hash=path.parseLocation().hash;if(!event.originalEvent.state&&hash){state=this.squash(hash);this.history.add(state.url,state);event.historyState=state;return;}
this.history.direct({url:(event.originalEvent.state||{}).url||hash,present:function(historyEntry,direction){event.historyState=$.extend({},historyEntry);event.historyState.direction=direction;}});},hashchange:function(event){var history,hash;if(!$.event.special.navigate.isHashChangeEnabled()||$.event.special.navigate.isPushStateEnabled()){return;}
if(this.preventNextHashChange){this.preventNextHashChange=false;event.stopImmediatePropagation();return;}
history=this.history;hash=path.parseLocation().hash;this.history.direct({url:hash,present:function(historyEntry,direction){event.hashchangeState=$.extend({},historyEntry);event.hashchangeState.direction=direction;},missing:function(){history.add(hash,{hash:hash,title:document.title});}});}});})(jQuery);(function($,undefined){$.mobile.navigate=function(url,data,noEvents){$.mobile.navigate.navigator.go(url,data,noEvents);};$.mobile.navigate.history=new $.mobile.History();$.mobile.navigate.navigator=new $.mobile.Navigator($.mobile.navigate.history);var loc=$.mobile.path.parseLocation();$.mobile.navigate.history.add(loc.href,{hash:loc.hash});})(jQuery);(function($,window,document,undefined){var dataPropertyName="virtualMouseBindings",touchTargetPropertyName="virtualTouchID",virtualEventNames="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),touchEventProps="clientX clientY pageX pageY screenX screenY".split(" "),mouseHookProps=$.event.mouseHooks?$.event.mouseHooks.props:[],mouseEventProps=$.event.props.concat(mouseHookProps),activeDocHandlers={},resetTimerID=0,startX=0,startY=0,didScroll=false,clickBlockList=[],blockMouseTriggers=false,blockTouchTriggers=false,eventCaptureSupported="addEventListener"in document,$document=$(document),nextTouchID=1,lastTouchID=0,threshold;$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function getNativeEvent(event){while(event&&typeof event.originalEvent!=="undefined"){event=event.originalEvent;}
return event;}
function createVirtualEvent(event,eventType){var t=event.type,oe,props,ne,prop,ct,touch,i,j,len;event=$.Event(event);event.type=eventType;oe=event.originalEvent;props=$.event.props;if(t.search(/^(mouse|click)/)>-1){props=mouseEventProps;}
if(oe){for(i=props.length,prop;i;){prop=props[--i];event[prop]=oe[prop];}}
if(t.search(/mouse(down|up)|click/)>-1&&!event.which){event.which=1;}
if(t.search(/^touch/)!==-1){ne=getNativeEvent(oe);t=ne.touches;ct=ne.changedTouches;touch=(t&&t.length)?t[0]:((ct&&ct.length)?ct[0]:undefined);if(touch){for(j=0,len=touchEventProps.length;j<len;j++){prop=touchEventProps[j];event[prop]=touch[prop];}}}
return event;}
function getVirtualBindingFlags(element){var flags={},b,k;while(element){b=$.data(element,dataPropertyName);for(k in b){if(b[k]){flags[k]=flags.hasVirtualBinding=true;}}
element=element.parentNode;}
return flags;}
function getClosestElementWithVirtualBinding(element,eventType){var b;while(element){b=$.data(element,dataPropertyName);if(b&&(!eventType||b[eventType])){return element;}
element=element.parentNode;}
return null;}
function enableTouchBindings(){blockTouchTriggers=false;}
function disableTouchBindings(){blockTouchTriggers=true;}
function enableMouseBindings(){lastTouchID=0;clickBlockList.length=0;blockMouseTriggers=false;disableTouchBindings();}
function disableMouseBindings(){enableTouchBindings();}
function startResetTimer(){clearResetTimer();resetTimerID=setTimeout(function(){resetTimerID=0;enableMouseBindings();},$.vmouse.resetTimerDuration);}
function clearResetTimer(){if(resetTimerID){clearTimeout(resetTimerID);resetTimerID=0;}}
function triggerVirtualEvent(eventType,event,flags){var ve;if((flags&&flags[eventType])||(!flags&&getClosestElementWithVirtualBinding(event.target,eventType))){ve=createVirtualEvent(event,eventType);$(event.target).trigger(ve);}
return ve;}
function mouseEventCallback(event){var touchID=$.data(event.target,touchTargetPropertyName);if(!blockMouseTriggers&&(!lastTouchID||lastTouchID!==touchID)){var ve=triggerVirtualEvent("v"+event.type,event);if(ve){if(ve.isDefaultPrevented()){event.preventDefault();}
if(ve.isPropagationStopped()){event.stopPropagation();}
if(ve.isImmediatePropagationStopped()){event.stopImmediatePropagation();}}}}
function handleTouchStart(event){var touches=getNativeEvent(event).touches,target,flags;if(touches&&touches.length===1){target=event.target;flags=getVirtualBindingFlags(target);if(flags.hasVirtualBinding){lastTouchID=nextTouchID++;$.data(target,touchTargetPropertyName,lastTouchID);clearResetTimer();disableMouseBindings();didScroll=false;var t=getNativeEvent(event).touches[0];startX=t.pageX;startY=t.pageY;triggerVirtualEvent("vmouseover",event,flags);triggerVirtualEvent("vmousedown",event,flags);}}}
function handleScroll(event){if(blockTouchTriggers){return;}
if(!didScroll){triggerVirtualEvent("vmousecancel",event,getVirtualBindingFlags(event.target));}
didScroll=true;startResetTimer();}
function handleTouchMove(event){if(blockTouchTriggers){return;}
var t=getNativeEvent(event).touches[0],didCancel=didScroll,moveThreshold=$.vmouse.moveDistanceThreshold,flags=getVirtualBindingFlags(event.target);didScroll=didScroll||(Math.abs(t.pageX-startX)>moveThreshold||Math.abs(t.pageY-startY)>moveThreshold);if(didScroll&&!didCancel){triggerVirtualEvent("vmousecancel",event,flags);}
triggerVirtualEvent("vmousemove",event,flags);startResetTimer();}
function handleTouchEnd(event){if(blockTouchTriggers){return;}
disableTouchBindings();var flags=getVirtualBindingFlags(event.target),t;triggerVirtualEvent("vmouseup",event,flags);if(!didScroll){var ve=triggerVirtualEvent("vclick",event,flags);if(ve&&ve.isDefaultPrevented()){t=getNativeEvent(event).changedTouches[0];clickBlockList.push({touchID:lastTouchID,x:t.clientX,y:t.clientY});blockMouseTriggers=true;}}
triggerVirtualEvent("vmouseout",event,flags);didScroll=false;startResetTimer();}
function hasVirtualBindings(ele){var bindings=$.data(ele,dataPropertyName),k;if(bindings){for(k in bindings){if(bindings[k]){return true;}}}
return false;}
function dummyMouseHandler(){}
function getSpecialEventObject(eventType){var realType=eventType.substr(1);return{setup:function(data,namespace){if(!hasVirtualBindings(this)){$.data(this,dataPropertyName,{});}
var bindings=$.data(this,dataPropertyName);bindings[eventType]=true;activeDocHandlers[eventType]=(activeDocHandlers[eventType]||0)+1;if(activeDocHandlers[eventType]===1){$document.bind(realType,mouseEventCallback);}
$(this).bind(realType,dummyMouseHandler);if(eventCaptureSupported){activeDocHandlers["touchstart"]=(activeDocHandlers["touchstart"]||0)+1;if(activeDocHandlers["touchstart"]===1){$document.bind("touchstart",handleTouchStart).bind("touchend",handleTouchEnd).bind("touchmove",handleTouchMove).bind("scroll",handleScroll);}}},teardown:function(data,namespace){--activeDocHandlers[eventType];if(!activeDocHandlers[eventType]){$document.unbind(realType,mouseEventCallback);}
if(eventCaptureSupported){--activeDocHandlers["touchstart"];if(!activeDocHandlers["touchstart"]){$document.unbind("touchstart",handleTouchStart).unbind("touchmove",handleTouchMove).unbind("touchend",handleTouchEnd).unbind("scroll",handleScroll);}}
var $this=$(this),bindings=$.data(this,dataPropertyName);if(bindings){bindings[eventType]=false;}
$this.unbind(realType,dummyMouseHandler);if(!hasVirtualBindings(this)){$this.removeData(dataPropertyName);}}};}
for(var i=0;i<virtualEventNames.length;i++){$.event.special[virtualEventNames[i]]=getSpecialEventObject(virtualEventNames[i]);}
if(eventCaptureSupported){document.addEventListener("click",function(e){var cnt=clickBlockList.length,target=e.target,x,y,ele,i,o,touchID;if(cnt){x=e.clientX;y=e.clientY;threshold=$.vmouse.clickDistanceThreshold;ele=target;while(ele){for(i=0;i<cnt;i++){o=clickBlockList[i];touchID=0;if((ele===target&&Math.abs(o.x-x)<threshold&&Math.abs(o.y-y)<threshold)||$.data(ele,touchTargetPropertyName)===o.touchID){e.preventDefault();e.stopPropagation();return;}}
ele=ele.parentNode;}}},true);}})(jQuery,window,document);(function($,window,undefined){var $document=$(document);$.each(("touchstart touchmove touchend "+"tap taphold "+"swipe swipeleft swiperight "+"scrollstart scrollstop").split(" "),function(i,name){$.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name);};if($.attrFn){$.attrFn[name]=true;}});var supportTouch=$.mobile.support.touch,scrollEvent="touchmove scroll",touchStartEvent=supportTouch?"touchstart":"mousedown",touchStopEvent=supportTouch?"touchend":"mouseup",touchMoveEvent=supportTouch?"touchmove":"mousemove";function triggerCustomEvent(obj,eventType,event){var originalType=event.type;event.type=eventType;$.event.dispatch.call(obj,event);event.type=originalType;}
$.event.special.scrollstart={enabled:true,setup:function(){var thisObject=this,$this=$(thisObject),scrolling,timer;function trigger(event,state){scrolling=state;triggerCustomEvent(thisObject,scrolling?"scrollstart":"scrollstop",event);}
$this.bind(scrollEvent,function(event){if(!$.event.special.scrollstart.enabled){return;}
if(!scrolling){trigger(event,true);}
clearTimeout(timer);timer=setTimeout(function(){trigger(event,false);},50);});}};$.event.special.tap={tapholdThreshold:750,setup:function(){var thisObject=this,$this=$(thisObject);$this.bind("vmousedown",function(event){if(event.which&&event.which!==1){return false;}
var origTarget=event.target,origEvent=event.originalEvent,timer;function clearTapTimer(){clearTimeout(timer);}
function clearTapHandlers(){clearTapTimer();$this.unbind("vclick",clickHandler).unbind("vmouseup",clearTapTimer);$document.unbind("vmousecancel",clearTapHandlers);}
function clickHandler(event){clearTapHandlers();if(origTarget===event.target){triggerCustomEvent(thisObject,"tap",event);}}
$this.bind("vmouseup",clearTapTimer).bind("vclick",clickHandler);$document.bind("vmousecancel",clearTapHandlers);timer=setTimeout(function(){triggerCustomEvent(thisObject,"taphold",$.Event("taphold",{target:origTarget}));},$.event.special.tap.tapholdThreshold);});}};$.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;return{time:(new Date()).getTime(),coords:[data.pageX,data.pageY],origin:$(event.target)};},stop:function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;return{time:(new Date()).getTime(),coords:[data.pageX,data.pageY]};},handleSwipe:function(start,stop){if(stop.time-start.time<$.event.special.swipe.durationThreshold&&Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(start.coords[1]-stop.coords[1])<$.event.special.swipe.verticalDistanceThreshold){start.origin.trigger("swipe").trigger(start.coords[0]>stop.coords[0]?"swipeleft":"swiperight");}},setup:function(){var thisObject=this,$this=$(thisObject);$this.bind(touchStartEvent,function(event){var start=$.event.special.swipe.start(event),stop;function moveHandler(event){if(!start){return;}
stop=$.event.special.swipe.stop(event);if(Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.scrollSupressionThreshold){event.preventDefault();}}
$this.bind(touchMoveEvent,moveHandler).one(touchStopEvent,function(){$this.unbind(touchMoveEvent,moveHandler);if(start&&stop){$.event.special.swipe.handleSwipe(start,stop);}
start=stop=undefined;});});}};$.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(event,sourceEvent){$.event.special[event]={setup:function(){$(this).bind(sourceEvent,$.noop);}};});})(jQuery,this);(function($){$.event.special.throttledresize={setup:function(){$(this).bind("resize",handler);},teardown:function(){$(this).unbind("resize",handler);}};var throttle=250,handler=function(){curr=(new Date()).getTime();diff=curr-lastCall;if(diff>=throttle){lastCall=curr;$(this).trigger("throttledresize");}else{if(heldCall){clearTimeout(heldCall);}
heldCall=setTimeout(handler,throttle-diff);}},lastCall=0,heldCall,curr,diff;})(jQuery);(function($,window){var win=$(window),event_name="orientationchange",special_event,get_orientation,last_orientation,initial_orientation_is_landscape,initial_orientation_is_default,portrait_map={"0":true,"180":true};if($.support.orientation){var ww=window.innerWidth||win.width(),wh=window.innerHeight||win.height(),landscape_threshold=50;initial_orientation_is_landscape=ww>wh&&(ww-wh)>landscape_threshold;initial_orientation_is_default=portrait_map[window.orientation];if((initial_orientation_is_landscape&&initial_orientation_is_default)||(!initial_orientation_is_landscape&&!initial_orientation_is_default)){portrait_map={"-90":true,"90":true};}}
$.event.special.orientationchange=$.extend({},$.event.special.orientationchange,{setup:function(){if($.support.orientation&&!$.event.special.orientationchange.disabled){return false;}
last_orientation=get_orientation();win.bind("throttledresize",handler);},teardown:function(){if($.support.orientation&&!$.event.special.orientationchange.disabled){return false;}
win.unbind("throttledresize",handler);},add:function(handleObj){var old_handler=handleObj.handler;handleObj.handler=function(event){event.orientation=get_orientation();return old_handler.apply(this,arguments);};}});function handler(){var orientation=get_orientation();if(orientation!==last_orientation){last_orientation=orientation;win.trigger(event_name);}}
$.event.special.orientationchange.orientation=get_orientation=function(){var isPortrait=true,elem=document.documentElement;if($.support.orientation){isPortrait=portrait_map[window.orientation];}else{isPortrait=elem&&elem.clientWidth/elem.clientHeight<1.1;}
return isPortrait?"portrait":"landscape";};$.fn[event_name]=function(fn){return fn?this.bind(event_name,fn):this.trigger(event_name);};if($.attrFn){$.attrFn[event_name]=true;}}(jQuery,this));(function($,undefined){$.widget("mobile.page",$.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){if(this._trigger("beforecreate")===false){return false;}
this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme);this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"});},_handlePageBeforeShow:function(e){this.setContainerBackground();},removeContainerBackground:function(){$.mobile.pageContainer.removeClass("ui-overlay-"+$.mobile.getInheritedTheme(this.element.parent()));},setContainerBackground:function(theme){if(this.options.theme){$.mobile.pageContainer.addClass("ui-overlay-"+(theme||this.options.theme));}},keepNativeSelector:function(){var options=this.options,keepNativeDefined=options.keepNative&&$.trim(options.keepNative);if(keepNativeDefined&&options.keepNative!==options.keepNativeDefault){return[options.keepNative,options.keepNativeDefault].join(", ");}
return options.keepNativeDefault;}});})(jQuery);(function($,window,undefined){var createHandler=function(sequential){if(sequential===undefined){sequential=true;}
return function(name,reverse,$to,$from){var deferred=new $.Deferred(),reverseClass=reverse?" reverse":"",active=$.mobile.urlHistory.getActive(),toScroll=active.lastScroll||$.mobile.defaultHomeScroll,screenHeight=$.mobile.getScreenHeight(),maxTransitionOverride=$.mobile.maxTransitionWidth!==false&&$.mobile.window.width()>$.mobile.maxTransitionWidth,none=!$.support.cssTransitions||maxTransitionOverride||!name||name==="none"||Math.max($.mobile.window.scrollTop(),toScroll)>$.mobile.getMaxScrollForTransition(),toPreClass=" ui-page-pre-in",toggleViewportClass=function(){$.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+name);},scrollPage=function(){$.event.special.scrollstart.enabled=false;window.scrollTo(0,toScroll);setTimeout(function(){$.event.special.scrollstart.enabled=true;},150);},cleanFrom=function(){$from.removeClass($.mobile.activePageClass+" out in reverse "+name).height("");},startOut=function(){if(!sequential){doneOut();}
else{$from.animationComplete(doneOut);}
$from.height(screenHeight+$.mobile.window.scrollTop()).addClass(name+" out"+reverseClass);},doneOut=function(){if($from&&sequential){cleanFrom();}
startIn();},startIn=function(){$to.css("z-index",-10);$to.addClass($.mobile.activePageClass+toPreClass);$.mobile.focusPage($to);$to.height(screenHeight+toScroll);scrollPage();$to.css("z-index","");if(!none){$to.animationComplete(doneIn);}
$to.removeClass(toPreClass).addClass(name+" in"+reverseClass);if(none){doneIn();}},doneIn=function(){if(!sequential){if($from){cleanFrom();}}
$to.removeClass("out in reverse "+name).height("");toggleViewportClass();if($.mobile.window.scrollTop()!==toScroll){scrollPage();}
deferred.resolve(name,reverse,$to,$from,true);};toggleViewportClass();if($from&&!none){startOut();}
else{doneOut();}
return deferred.promise();};};var sequentialHandler=createHandler(),simultaneousHandler=createHandler(false),defaultGetMaxScrollForTransition=function(){return $.mobile.getScreenHeight()*3;};$.mobile.defaultTransitionHandler=sequentialHandler;$.mobile.transitionHandlers={"default":$.mobile.defaultTransitionHandler,"sequential":sequentialHandler,"simultaneous":simultaneousHandler};$.mobile.transitionFallbacks={};$.mobile._maybeDegradeTransition=function(transition){if(transition&&!$.support.cssTransform3d&&$.mobile.transitionFallbacks[transition]){transition=$.mobile.transitionFallbacks[transition];}
return transition;};$.mobile.getMaxScrollForTransition=$.mobile.getMaxScrollForTransition||defaultGetMaxScrollForTransition;})(jQuery,this);(function($,undefined){var $window=$.mobile.window,$html=$('html'),$head=$('head'),path=$.extend($.mobile.path,{getFilePath:function(path){var splitkey='&'+$.mobile.subPageUrlKey;return path&&path.split(splitkey)[0].split(dialogHashKey)[0];},isFirstPageUrl:function(url){var u=path.parseUrl(path.makeUrlAbsolute(url,this.documentBase)),samePath=u.hrefNoHash===this.documentUrl.hrefNoHash||(this.documentBaseDiffers&&u.hrefNoHash===this.documentBase.hrefNoHash),fp=$.mobile.firstPage,fpId=fp&&fp[0]?fp[0].id:undefined;return samePath&&(!u.hash||u.hash==="#"||(fpId&&u.hash.replace(/^#/,"")===fpId));},isPermittedCrossDomainRequest:function(docUrl,reqUrl){return $.mobile.allowCrossDomainPages&&docUrl.protocol==="file:"&&reqUrl.search(/^https?:/)!==-1;}}),$lastVClicked=null,$activeClickedLink=null,domreadyDeferred=$.Deferred(),urlHistory=$.mobile.navigate.history,focusable="[tabindex],a,button:visible,select:visible,input",pageTransitionQueue=[],isPageTransitioning=false,dialogHashKey="&ui-state=dialog",$base=$head.children("base"),documentUrl=path.documentUrl,documentBase=path.documentBase,documentBaseDiffers=path.documentBaseDiffers,getScreenHeight=$.mobile.getScreenHeight;var base=$.support.dynamicBaseTag?{element:($base.length?$base:$("<base>",{href:documentBase.hrefNoHash}).prependTo($head)),set:function(href){href=path.parseUrl(href).hrefNoHash;base.element.attr("href",path.makeUrlAbsolute(href,documentBase));},reset:function(){base.element.attr("href",documentBase.hrefNoSearch);}}:undefined;$.mobile.getDocumentUrl=path.getDocumentUrl;$.mobile.getDocumentBase=path.getDocumentBase;$.mobile.back=function(){var nav=window.navigator;if(this.phonegapNavigationEnabled&&nav&&nav.app&&nav.app.backHistory){nav.app.backHistory();}else{window.history.back();}};$.mobile.focusPage=function(page){var autofocus=page.find("[autofocus]"),pageTitle=page.find(".ui-title:eq(0)");if(autofocus.length){autofocus.focus();return;}
if(pageTitle.length){pageTitle.focus();}else{page.focus();}};function removeActiveLinkClass(forceRemoval){if(!!$activeClickedLink&&(!$activeClickedLink.closest("."+$.mobile.activePageClass).length||forceRemoval)){$activeClickedLink.removeClass($.mobile.activeBtnClass);}
$activeClickedLink=null;}
function releasePageTransitionLock(){isPageTransitioning=false;if(pageTransitionQueue.length>0){$.mobile.changePage.apply(null,pageTransitionQueue.pop());}}
var setLastScrollEnabled=true,setLastScroll,delayedSetLastScroll;setLastScroll=function(){if(!setLastScrollEnabled){return;}
var active=$.mobile.urlHistory.getActive();if(active){var lastScroll=$window.scrollTop();active.lastScroll=lastScroll<$.mobile.minScrollBack?$.mobile.defaultHomeScroll:lastScroll;}};delayedSetLastScroll=function(){setTimeout(setLastScroll,100);};$window.bind($.support.pushState?"popstate":"hashchange",function(){setLastScrollEnabled=false;});$window.one($.support.pushState?"popstate":"hashchange",function(){setLastScrollEnabled=true;});$window.one("pagecontainercreate",function(){$.mobile.pageContainer.bind("pagechange",function(){setLastScrollEnabled=true;$window.unbind("scrollstop",delayedSetLastScroll);$window.bind("scrollstop",delayedSetLastScroll);});});$window.bind("scrollstop",delayedSetLastScroll);$.mobile._maybeDegradeTransition=$.mobile._maybeDegradeTransition||function(transition){return transition;};function transitionPages(toPage,fromPage,transition,reverse){if(fromPage){fromPage.data("mobile-page")._trigger("beforehide",null,{nextPage:toPage});}
toPage.data("mobile-page")._trigger("beforeshow",null,{prevPage:fromPage||$("")});$.mobile.hidePageLoadingMsg();transition=$.mobile._maybeDegradeTransition(transition);var th=$.mobile.transitionHandlers[transition||"default"]||$.mobile.defaultTransitionHandler,promise=th(transition,reverse,toPage,fromPage);promise.done(function(){if(fromPage){fromPage.data("mobile-page")._trigger("hide",null,{nextPage:toPage});}
toPage.data("mobile-page")._trigger("show",null,{prevPage:fromPage||$("")});});return promise;}
$.mobile.resetActivePageHeight=function resetActivePageHeight(height){var aPage=$("."+$.mobile.activePageClass),aPagePadT=parseFloat(aPage.css("padding-top")),aPagePadB=parseFloat(aPage.css("padding-bottom")),aPageBorderT=parseFloat(aPage.css("border-top-width")),aPageBorderB=parseFloat(aPage.css("border-bottom-width"));height=(typeof height==="number")?height:getScreenHeight();aPage.css("min-height",height-aPagePadT-aPagePadB-aPageBorderT-aPageBorderB);};function enhancePage($page,role){if(role){$page.attr("data-"+$.mobile.ns+"role",role);}
$page.page();}
function findBaseWithDefault(){var closestBase=($.mobile.activePage&&getClosestBaseUrl($.mobile.activePage));return closestBase||documentBase.hrefNoHash;}
$.fn.animationComplete=function(callback){if($.support.cssTransitions){return $(this).one('webkitAnimationEnd animationend',callback);}
else{setTimeout(callback,0);return $(this);}};$.mobile.path=path;$.mobile.base=base;$.mobile.urlHistory=urlHistory;$.mobile.dialogHashKey=dialogHashKey;$.mobile.allowCrossDomainPages=false;$.mobile._bindPageRemove=function(){var page=$(this);if(!page.data("mobile-page").options.domCache&&page.is(":jqmData(external-page='true')")){page.bind('pagehide.remove',function(e){var $this=$(this),prEvent=new $.Event("pageremove");$this.trigger(prEvent);if(!prEvent.isDefaultPrevented()){$this.removeWithDependents();}});}};$.mobile.loadPage=function(url,options){var deferred=$.Deferred(),settings=$.extend({},$.mobile.loadPage.defaults,options),page=null,dupCachedPage=null,absUrl=path.makeUrlAbsolute(url,findBaseWithDefault());if(settings.data&&settings.type==="get"){absUrl=path.addSearchParams(absUrl,settings.data);settings.data=undefined;}
if(settings.data&&settings.type==="post"){settings.reloadPage=true;}
var fileUrl=path.getFilePath(absUrl),dataUrl=path.convertUrlToDataUrl(absUrl);settings.pageContainer=settings.pageContainer||$.mobile.pageContainer;page=settings.pageContainer.children("[data-"+$.mobile.ns+"url='"+dataUrl+"']");if(page.length===0&&dataUrl&&!path.isPath(dataUrl)){page=settings.pageContainer.children("#"+dataUrl).attr("data-"+$.mobile.ns+"url",dataUrl).jqmData("url",dataUrl);}
if(page.length===0){if($.mobile.firstPage&&path.isFirstPageUrl(fileUrl)){if($.mobile.firstPage.parent().length){page=$($.mobile.firstPage);}}else if(path.isEmbeddedPage(fileUrl)){deferred.reject(absUrl,options);return deferred.promise();}}
if(page.length){if(!settings.reloadPage){enhancePage(page,settings.role);deferred.resolve(absUrl,options,page);return deferred.promise();}
dupCachedPage=page;}
var mpc=settings.pageContainer,pblEvent=new $.Event("pagebeforeload"),triggerData={url:url,absUrl:absUrl,dataUrl:dataUrl,deferred:deferred,options:settings};mpc.trigger(pblEvent,triggerData);if(pblEvent.isDefaultPrevented()){return deferred.promise();}
if(settings.showLoadMsg){var loadMsgDelay=setTimeout(function(){$.mobile.showPageLoadingMsg();},settings.loadMsgDelay),hideMsg=function(){clearTimeout(loadMsgDelay);$.mobile.hidePageLoadingMsg();};}
if(base){base.reset();}
if(!($.mobile.allowCrossDomainPages||path.isSameDomain(documentUrl,absUrl))){deferred.reject(absUrl,options);}else{$.ajax({url:fileUrl,type:settings.type,data:settings.data,dataType:"html",success:function(html,textStatus,xhr){var all=$("<div></div>"),newPageTitle=html.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,pageElemRegex=new RegExp("(<[^>]+\\bdata-"+$.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),dataUrlRegex=new RegExp("\\bdata-"+$.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(pageElemRegex.test(html)&&RegExp.$1&&dataUrlRegex.test(RegExp.$1)&&RegExp.$1){url=fileUrl=path.getFilePath($("<div>"+RegExp.$1+"</div>").text());}
if(base){base.set(fileUrl);}
all.get(0).innerHTML=html;page=all.find(":jqmData(role='page'), :jqmData(role='dialog')").first();if(!page.length){page=$("<div data-"+$.mobile.ns+"role='page'>"+(html.split(/<\/?body[^>]*>/gmi)[1]||"")+"</div>");}
if(newPageTitle&&!page.jqmData("title")){if(~newPageTitle.indexOf("&")){newPageTitle=$("<div>"+newPageTitle+"</div>").text();}
page.jqmData("title",newPageTitle);}
if(!$.support.dynamicBaseTag){var newPath=path.get(fileUrl);page.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var thisAttr=$(this).is('[href]')?'href':$(this).is('[src]')?'src':'action',thisUrl=$(this).attr(thisAttr);thisUrl=thisUrl.replace(location.protocol+'//'+location.host+location.pathname,'');if(!/^(\w+:|#|\/)/.test(thisUrl)){$(this).attr(thisAttr,newPath+thisUrl);}});}
page.attr("data-"+$.mobile.ns+"url",path.convertUrlToDataUrl(fileUrl)).attr("data-"+$.mobile.ns+"external-page",true).appendTo(settings.pageContainer);page.one('pagecreate',$.mobile._bindPageRemove);enhancePage(page,settings.role);if(absUrl.indexOf("&"+$.mobile.subPageUrlKey)>-1){page=settings.pageContainer.children("[data-"+$.mobile.ns+"url='"+dataUrl+"']");}
if(settings.showLoadMsg){hideMsg();}
triggerData.xhr=xhr;triggerData.textStatus=textStatus;triggerData.page=page;settings.pageContainer.trigger("pageload",triggerData);deferred.resolve(absUrl,options,page,dupCachedPage);},error:function(xhr,textStatus,errorThrown){if(base){base.set(path.get());}
triggerData.xhr=xhr;triggerData.textStatus=textStatus;triggerData.errorThrown=errorThrown;var plfEvent=new $.Event("pageloadfailed");settings.pageContainer.trigger(plfEvent,triggerData);if(plfEvent.isDefaultPrevented()){return;}
if(settings.showLoadMsg){hideMsg();$.mobile.showPageLoadingMsg($.mobile.pageLoadErrorMessageTheme,$.mobile.pageLoadErrorMessage,true);setTimeout($.mobile.hidePageLoadingMsg,1500);}
deferred.reject(absUrl,options);}});}
return deferred.promise();};$.mobile.loadPage.defaults={type:"get",data:undefined,reloadPage:false,role:undefined,showLoadMsg:false,pageContainer:undefined,loadMsgDelay:50};$.mobile.changePage=function(toPage,options){if(isPageTransitioning){pageTransitionQueue.unshift(arguments);return;}
var settings=$.extend({},$.mobile.changePage.defaults,options),isToPageString;settings.pageContainer=settings.pageContainer||$.mobile.pageContainer;settings.fromPage=settings.fromPage||$.mobile.activePage;isToPageString=(typeof toPage==="string");var mpc=settings.pageContainer,pbcEvent=new $.Event("pagebeforechange"),triggerData={toPage:toPage,options:settings};if(isToPageString){triggerData.absUrl=path.makeUrlAbsolute(toPage,findBaseWithDefault());}else{triggerData.absUrl=toPage.data('absUrl');}
mpc.trigger(pbcEvent,triggerData);if(pbcEvent.isDefaultPrevented()){return;}
toPage=triggerData.toPage;isToPageString=(typeof toPage==="string");isPageTransitioning=true;if(isToPageString){settings.target=toPage;$.mobile.loadPage(toPage,settings).done(function(url,options,newPage,dupCachedPage){isPageTransitioning=false;options.duplicateCachedPage=dupCachedPage;newPage.data('absUrl',triggerData.absUrl);$.mobile.changePage(newPage,options);}).fail(function(url,options){isPageTransitioning=false;removeActiveLinkClass(true);releasePageTransitionLock();settings.pageContainer.trigger("pagechangefailed",triggerData);});return;}
if(toPage[0]===$.mobile.firstPage[0]&&!settings.dataUrl){settings.dataUrl=documentUrl.hrefNoHash;}
var fromPage=settings.fromPage,url=(settings.dataUrl&&path.convertUrlToDataUrl(settings.dataUrl))||toPage.jqmData("url"),pageUrl=url,fileUrl=path.getFilePath(url),active=urlHistory.getActive(),activeIsInitialPage=urlHistory.activeIndex===0,historyDir=0,pageTitle=document.title,isDialog=settings.role==="dialog"||toPage.jqmData("role")==="dialog";if(fromPage&&fromPage[0]===toPage[0]&&!settings.allowSamePageTransition){isPageTransitioning=false;mpc.trigger("pagechange",triggerData);if(settings.fromHashChange){urlHistory.direct({url:url});}
return;}
enhancePage(toPage,settings.role);if(settings.fromHashChange){historyDir=options.direction==="back"?-1:1;}
try{if(document.activeElement&&document.activeElement.nodeName.toLowerCase()!=='body'){$(document.activeElement).blur();}else{$("input:focus, textarea:focus, select:focus").blur();}}catch(e){}
var alreadyThere=false;if(isDialog&&active){if(active.url&&active.url.indexOf(dialogHashKey)>-1&&$.mobile.activePage&&!$.mobile.activePage.is(".ui-dialog")&&urlHistory.activeIndex>0){settings.changeHash=false;alreadyThere=true;}
url=(active.url||"");if(!alreadyThere&&url.indexOf("#")>-1){url+=dialogHashKey;}else{url+="#"+dialogHashKey;}
if(urlHistory.activeIndex===0&&url===urlHistory.initialDst){url+=dialogHashKey;}}
var newPageTitle=(!active)?pageTitle:toPage.jqmData("title")||toPage.children(":jqmData(role='header')").find(".ui-title").getEncodedText();if(!!newPageTitle&&pageTitle===document.title){pageTitle=newPageTitle;}
if(!toPage.jqmData("title")){toPage.jqmData("title",pageTitle);}
settings.transition=settings.transition||((historyDir&&!activeIsInitialPage)?active.transition:undefined)||(isDialog?$.mobile.defaultDialogTransition:$.mobile.defaultPageTransition);if(!historyDir&&alreadyThere){urlHistory.getActive().pageUrl=pageUrl;}
if(url&&!settings.fromHashChange){var params;if(!path.isPath(url)&&url.indexOf("#")<0){url="#"+url;}
params={transition:settings.transition,title:pageTitle,pageUrl:pageUrl,role:settings.role};if(settings.changeHash!==false&&$.mobile.hashListeningEnabled){$.mobile.navigate(url,params,true);}else if(toPage[0]!==$.mobile.firstPage[0]){$.mobile.navigate.history.add(url,params);}}
document.title=pageTitle;$.mobile.activePage=toPage;settings.reverse=settings.reverse||historyDir<0;transitionPages(toPage,fromPage,settings.transition,settings.reverse).done(function(name,reverse,$to,$from,alreadyFocused){removeActiveLinkClass();if(settings.duplicateCachedPage){settings.duplicateCachedPage.remove();}
if(!alreadyFocused){$.mobile.focusPage(toPage);}
releasePageTransitionLock();mpc.trigger("pagechange",triggerData);});};$.mobile.changePage.defaults={transition:undefined,reverse:false,changeHash:true,fromHashChange:false,role:undefined,duplicateCachedPage:undefined,pageContainer:undefined,showLoadMsg:true,dataUrl:undefined,fromPage:undefined,allowSamePageTransition:false};function findClosestLink(ele)
{while(ele){if((typeof ele.nodeName==="string")&&ele.nodeName.toLowerCase()==="a"){break;}
ele=ele.parentNode;}
return ele;}
function getClosestBaseUrl(ele)
{var url=$(ele).closest(".ui-page").jqmData("url"),base=documentBase.hrefNoHash;if(!url||!path.isPath(url)){url=base;}
return path.makeUrlAbsolute(url,base);}
$.mobile.navreadyDeferred=$.Deferred();$.mobile._registerInternalEvents=function(){var getAjaxFormData=function($form,calculateOnly){var type,target,url,ret=true,formData,vclickedName;if(!$.mobile.ajaxEnabled||$form.is(":jqmData(ajax='false')")||!$form.jqmHijackable().length){return false;}
target=$form.attr("target");url=$form.attr("action");if(!url){url=getClosestBaseUrl($form);if(url===documentBase.hrefNoHash){url=documentUrl.hrefNoSearch;}}
url=path.makeUrlAbsolute(url,getClosestBaseUrl($form));if((path.isExternal(url)&&!path.isPermittedCrossDomainRequest(documentUrl,url))||target){return false;}
if(!calculateOnly){type=$form.attr("method");formData=$form.serializeArray();if($lastVClicked&&$lastVClicked[0].form===$form[0]){vclickedName=$lastVClicked.attr("name");if(vclickedName){$.each(formData,function(key,value){if(value.name===vclickedName){vclickedName="";return false;}});if(vclickedName){formData.push({name:vclickedName,value:$lastVClicked.attr("value")});}}}
ret={url:url,options:{type:type&&type.length&&type.toLowerCase()||"get",data:$.param(formData),transition:$form.jqmData("transition"),reverse:$form.jqmData("direction")==="reverse",reloadPage:true}};}
return ret;};$.mobile.document.delegate("form","submit",function(event){var formData=getAjaxFormData($(this));if(formData){$.mobile.changePage(formData.url,formData.options);event.preventDefault();}});$.mobile.document.bind("vclick",function(event){var $btn,btnEls,target=event.target,needClosest=false;if(event.which>1||!$.mobile.linkBindingEnabled){return;}
$lastVClicked=$(target);if($.data(target,"mobile-button")){if(!getAjaxFormData($(target).closest("form"),true)){return;}
if(target.parentNode){target=target.parentNode;}}else{target=findClosestLink(target);if(!(target&&path.parseUrl(target.getAttribute("href")||"#").hash!=="#")){return;}
if(!$(target).jqmHijackable().length){return;}}
if(!!~target.className.indexOf("ui-link-inherit")){if(target.parentNode){btnEls=$.data(target.parentNode,"buttonElements");}}else{btnEls=$.data(target,"buttonElements");}
if(btnEls){target=btnEls.outer;}else{needClosest=true;}
$btn=$(target);if(needClosest){$btn=$btn.closest(".ui-btn");}
if($btn.length>0&&!$btn.hasClass("ui-disabled")){removeActiveLinkClass(true);$activeClickedLink=$btn;$activeClickedLink.addClass($.mobile.activeBtnClass);}});$.mobile.document.bind("click",function(event){if(!$.mobile.linkBindingEnabled||event.isDefaultPrevented()){return;}
var link=findClosestLink(event.target),$link=$(link),httpCleanup;if(!link||event.which>1||!$link.jqmHijackable().length){return;}
httpCleanup=function(){window.setTimeout(function(){removeActiveLinkClass(true);},200);};if($link.is(":jqmData(rel='back')")){$.mobile.back();return false;}
var baseUrl=getClosestBaseUrl($link),href=path.makeUrlAbsolute($link.attr("href")||"#",baseUrl);if(!$.mobile.ajaxEnabled&&!path.isEmbeddedPage(href)){httpCleanup();return;}
if(href.search("#")!==-1){href=href.replace(/[^#]*#/,"");if(!href){event.preventDefault();return;}else if(path.isPath(href)){href=path.makeUrlAbsolute(href,baseUrl);}else{href=path.makeUrlAbsolute("#"+href,documentUrl.hrefNoHash);}}
var useDefaultUrlHandling=$link.is("[rel='external']")||$link.is(":jqmData(ajax='false')")||$link.is("[target]"),isExternal=useDefaultUrlHandling||(path.isExternal(href)&&!path.isPermittedCrossDomainRequest(documentUrl,href));if(isExternal){httpCleanup();return;}
var transition=$link.jqmData("transition"),reverse=$link.jqmData("direction")==="reverse"||$link.jqmData("back"),role=$link.attr("data-"+$.mobile.ns+"rel")||undefined;$.mobile.changePage(href,{transition:transition,reverse:reverse,role:role,link:$link});event.preventDefault();});$.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var urls=[];$(this).find("a:jqmData(prefetch)").each(function(){var $link=$(this),url=$link.attr("href");if(url&&$.inArray(url,urls)===-1){urls.push(url);$.mobile.loadPage(url,{role:$link.attr("data-"+$.mobile.ns+"rel")});}});});$.mobile._handleHashChange=function(url,data){var to=path.stripHash(url),transition=$.mobile.urlHistory.stack.length===0?"none":undefined,changePageOptions={changeHash:false,fromHashChange:true,reverse:data.direction==="back"};$.extend(changePageOptions,data,{transition:(urlHistory.getLast()||{}).transition||transition});if(urlHistory.activeIndex>0&&to.indexOf(dialogHashKey)>-1&&urlHistory.initialDst!==to){if($.mobile.activePage&&!$.mobile.activePage.is(".ui-dialog")){if(data.direction==="back"){$.mobile.back();}else{window.history.forward();}
return;}else{to=data.pageUrl;var active=$.mobile.urlHistory.getActive();$.extend(changePageOptions,{role:active.role,transition:active.transition,reverse:data.direction==="back"});}}
if(to){to=!path.isPath(to)?(path.makeUrlAbsolute('#'+to,documentBase)):to;if(to===path.makeUrlAbsolute('#'+urlHistory.initialDst,documentBase)&&urlHistory.stack.length&&urlHistory.stack[0].url!==urlHistory.initialDst.replace(dialogHashKey,"")){to=$.mobile.firstPage;}
$.mobile.changePage(to,changePageOptions);}else{$.mobile.changePage($.mobile.firstPage,changePageOptions);}};$window.bind("navigate",function(e,data){var url=$.event.special.navigate.originalEventName.indexOf("hashchange")>-1?data.state.hash:data.state.url;if(!url){url=$.mobile.path.parseLocation().hash;}
if(!url||url==="#"||url.indexOf("#"+$.mobile.path.uiStateKey)===0){url=location.href;}
$.mobile._handleHashChange(url,data.state);});$.mobile.document.bind("pageshow",$.mobile.resetActivePageHeight);$.mobile.window.bind("throttledresize",$.mobile.resetActivePageHeight);};$(function(){domreadyDeferred.resolve();});$.when(domreadyDeferred,$.mobile.navreadyDeferred).done(function(){$.mobile._registerInternalEvents();});})(jQuery);(function($,window,undefined){$.mobile.transitionFallbacks.flip="fade";})(jQuery,this);(function($,window,undefined){$.mobile.transitionFallbacks.flow="fade";})(jQuery,this);(function($,window,undefined){$.mobile.transitionFallbacks.pop="fade";})(jQuery,this);(function($,window,undefined){$.mobile.transitionHandlers.slide=$.mobile.transitionHandlers.simultaneous;$.mobile.transitionFallbacks.slide="fade";})(jQuery,this);(function($,window,undefined){$.mobile.transitionFallbacks.slidedown="fade";})(jQuery,this);(function($,window,undefined){$.mobile.transitionFallbacks.slidefade="fade";})(jQuery,this);(function($,window,undefined){$.mobile.transitionFallbacks.slideup="fade";})(jQuery,this);(function($,window,undefined){$.mobile.transitionFallbacks.turn="fade";})(jQuery,this);(function($,undefined){$.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};$.mobile.document.bind("pagecreate create",function(e){var page=$.mobile.closestPageData($(e.target)),options;if(!page){return;}
options=page.options;$(e.target).find("input").not(page.keepNativeSelector()).each(function(){var $this=$(this),type=this.getAttribute("type"),optType=options.degradeInputs[type]||"text";if(options.degradeInputs[type]){var html=$("<div>").html($this.clone()).html(),hasType=html.indexOf(" type=")>-1,findstr=hasType?/\s+type=["']?\w+['"]?/:/\/?>/,repstr=" type=\""+optType+"\" data-"+$.mobile.ns+"type=\""+type+"\""+(hasType?"":">");$this.replaceWith(html.replace(findstr,repstr));}});});})(jQuery);(function($,window,undefined){$.widget("mobile.dialog",$.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:true,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=true;if(this.options.overlayTheme){this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme);}},_create:function(){var self=this,$el=this.element,cornerClass=!!this.options.corners?" ui-corner-all":"",dialogWrap=$("<div/>",{"role":"dialog","class":"ui-dialog-contain ui-overlay-shadow"+cornerClass});$el.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);$el.wrapInner(dialogWrap);$el.bind("vclick submit",function(event){var $target=$(event.target).closest(event.type==="vclick"?"a":"form"),active;if($target.length&&!$target.jqmData("transition")){active=$.mobile.urlHistory.getActive()||{};$target.attr("data-"+$.mobile.ns+"transition",(active.transition||$.mobile.defaultDialogTransition)).attr("data-"+$.mobile.ns+"direction","reverse");}});this._on($el,{pagebeforeshow:"_handlePageBeforeShow"});$.extend(this,{_createComplete:false});this._setCloseBtn(this.options.closeBtn);},_setCloseBtn:function(value){var self=this,btn,location;if(this._headerCloseButton){this._headerCloseButton.remove();this._headerCloseButton=null;}
if(value!=="none"){location=(value==="left"?"left":"right");btn=$("<a href='#' class='ui-btn-"+location+"' data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");this.element.children().find(":jqmData(role='header')").first().prepend(btn);if(this._createComplete&&$.fn.buttonMarkup){btn.buttonMarkup();}
this._createComplete=true;btn.bind("click",function(){self.close();});this._headerCloseButton=btn;}},_setOption:function(key,value){if(key==="closeBtn"){this._setCloseBtn(value);this._super(key,value);this.element.attr("data-"+($.mobile.ns||"")+"close-btn",value);}},close:function(){var idx,dst,hist=$.mobile.navigate.history;if(this._isCloseable){this._isCloseable=false;if($.mobile.hashListeningEnabled&&hist.activeIndex>0){$.mobile.back();}else{idx=Math.max(0,hist.activeIndex-1);dst=hist.stack[idx].pageUrl||hist.stack[idx].url;hist.previousIndex=hist.activeIndex;hist.activeIndex=idx;if(!$.mobile.path.isPath(dst)){dst=$.mobile.path.makeUrlAbsolute("#"+dst);}
$.mobile.changePage(dst,{direction:"back",changeHash:false,fromHashChange:true});}}}});$.mobile.document.delegate($.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){$.mobile.dialog.prototype.enhance(this);});})(jQuery,this);(function($,undefined){$.mobile.page.prototype.options.backBtnText="Back";$.mobile.page.prototype.options.addBackBtn=false;$.mobile.page.prototype.options.backBtnTheme=null;$.mobile.page.prototype.options.headerTheme="a";$.mobile.page.prototype.options.footerTheme="a";$.mobile.page.prototype.options.contentTheme=null;$.mobile.document.bind("pagecreate",function(e){var $page=$(e.target),o=$page.data("mobile-page").options,pageRole=$page.jqmData("role"),pageTheme=o.theme;$(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",$page).jqmEnhanceable().each(function(){var $this=$(this),role=$this.jqmData("role"),theme=$this.jqmData("theme"),contentTheme=theme||o.contentTheme||(pageRole==="dialog"&&pageTheme),$headeranchors,leftbtn,rightbtn,backBtn;$this.addClass("ui-"+role);if(role==="header"||role==="footer"){var thisTheme=theme||(role==="header"?o.headerTheme:o.footerTheme)||pageTheme;$this.addClass("ui-bar-"+thisTheme).attr("role",role==="header"?"banner":"contentinfo");if(role==="header"){$headeranchors=$this.children("a, button");leftbtn=$headeranchors.hasClass("ui-btn-left");rightbtn=$headeranchors.hasClass("ui-btn-right");leftbtn=leftbtn||$headeranchors.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;rightbtn=rightbtn||$headeranchors.eq(1).addClass("ui-btn-right").length;}
if(o.addBackBtn&&role==="header"&&$(".ui-page").length>1&&$page.jqmData("url")!==$.mobile.path.stripHash(location.hash)&&!leftbtn){backBtn=$("<a href='javascript:void(0);' class='ui-btn-left' data-"+$.mobile.ns+"rel='back' data-"+$.mobile.ns+"icon='arrow-l'>"+o.backBtnText+"</a>").attr("data-"+$.mobile.ns+"theme",o.backBtnTheme||thisTheme).prependTo($this);}
$this.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({"role":"heading","aria-level":"1"});}else if(role==="content"){if(contentTheme){$this.addClass("ui-body-"+(contentTheme));}
$this.attr("role","main");}});});})(jQuery);(function($,undefined){$.mobile.behaviors.addFirstLastClasses={_getVisibles:function($els,create){var visibles;if(create){visibles=$els.not(".ui-screen-hidden");}else{visibles=$els.filter(":visible");if(visibles.length===0){visibles=$els.not(".ui-screen-hidden");}}
return visibles;},_addFirstLastClasses:function($els,$visibles,create){$els.removeClass("ui-first-child ui-last-child");$visibles.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child");if(!create){this.element.trigger("updatelayout");}}};})(jQuery);(function($,undefined){$.fn.fieldcontain=function(options){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return(this.nodeType===3&&!/\S/.test(this.nodeValue));}).remove();};$(document).bind("pagecreate create",function(e){$(":jqmData(role='fieldcontain')",e.target).jqmEnhanceable().fieldcontain();});})(jQuery);(function($,undefined){$.fn.grid=function(options){return this.each(function(){var $this=$(this),o=$.extend({grid:null},options),$kids=$this.children(),gridCols={solo:1,a:2,b:3,c:4,d:5},grid=o.grid,iterator;if(!grid){if($kids.length<=5){for(var letter in gridCols){if(gridCols[letter]===$kids.length){grid=letter;}}}else{grid="a";$this.addClass("ui-grid-duo");}}
iterator=gridCols[grid];$this.addClass("ui-grid-"+grid);$kids.filter(":nth-child("+iterator+"n+1)").addClass("ui-block-a");if(iterator>1){$kids.filter(":nth-child("+iterator+"n+2)").addClass("ui-block-b");}
if(iterator>2){$kids.filter(":nth-child("+iterator+"n+3)").addClass("ui-block-c");}
if(iterator>3){$kids.filter(":nth-child("+iterator+"n+4)").addClass("ui-block-d");}
if(iterator>4){$kids.filter(":nth-child("+iterator+"n+5)").addClass("ui-block-e");}});};})(jQuery);(function($,undefined){$(document).bind("pagecreate create",function(e){$(":jqmData(role='nojs')",e.target).addClass("ui-nojs");});})(jQuery);(function($,undefined){$.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset");}});}};})(jQuery);(function($,undefined){var getAttrFixed=function(e,key){var value=e.getAttribute(key);return value==="true"?true:value==="false"?false:value===null?undefined:value;};$.fn.buttonMarkup=function(options){var $workingSet=this,nsKey="data-"+$.mobile.ns,key;options=(options&&($.type(options)==="object"))?options:{};for(var i=0;i<$workingSet.length;i++){var el=$workingSet.eq(i),e=el[0],o=$.extend({},$.fn.buttonMarkup.defaults,{icon:options.icon!==undefined?options.icon:getAttrFixed(e,nsKey+"icon"),iconpos:options.iconpos!==undefined?options.iconpos:getAttrFixed(e,nsKey+"iconpos"),theme:options.theme!==undefined?options.theme:getAttrFixed(e,nsKey+"theme")||$.mobile.getInheritedTheme(el,"c"),inline:options.inline!==undefined?options.inline:getAttrFixed(e,nsKey+"inline"),shadow:options.shadow!==undefined?options.shadow:getAttrFixed(e,nsKey+"shadow"),corners:options.corners!==undefined?options.corners:getAttrFixed(e,nsKey+"corners"),iconshadow:options.iconshadow!==undefined?options.iconshadow:getAttrFixed(e,nsKey+"iconshadow"),mini:options.mini!==undefined?options.mini:getAttrFixed(e,nsKey+"mini")},options),innerClass="ui-btn-inner",textClass="ui-btn-text",buttonClass,iconClass,hover=false,state="up",buttonInner,buttonText,buttonIcon,buttonElements;for(key in o){e.setAttribute(nsKey+key,o[key]);}
if(getAttrFixed(e,nsKey+"rel")==="popup"&&el.attr("href")){e.setAttribute("aria-haspopup",true);e.setAttribute("aria-owns",el.attr("href"));}
buttonElements=$.data(((e.tagName==="INPUT"||e.tagName==="BUTTON")?e.parentNode:e),"buttonElements");if(buttonElements){e=buttonElements.outer;el=$(e);buttonInner=buttonElements.inner;buttonText=buttonElements.text;$(buttonElements.icon).remove();buttonElements.icon=null;hover=buttonElements.hover;state=buttonElements.state;}
else{buttonInner=document.createElement(o.wrapperEls);buttonText=document.createElement(o.wrapperEls);}
buttonIcon=o.icon?document.createElement("span"):null;if(attachEvents&&!buttonElements){attachEvents();}
if(!o.theme){o.theme=$.mobile.getInheritedTheme(el,"c");}
buttonClass="ui-btn ";buttonClass+=(hover?"ui-btn-hover-"+o.theme:"");buttonClass+=(state?" ui-btn-"+state+"-"+o.theme:"");buttonClass+=o.shadow?" ui-shadow":"";buttonClass+=o.corners?" ui-btn-corner-all":"";if(o.mini!==undefined){buttonClass+=o.mini===true?" ui-mini":" ui-fullsize";}
if(o.inline!==undefined){buttonClass+=o.inline===true?" ui-btn-inline":" ui-btn-block";}
if(o.icon){o.icon="ui-icon-"+o.icon;o.iconpos=o.iconpos||"left";iconClass="ui-icon "+o.icon;if(o.iconshadow){iconClass+=" ui-icon-shadow";}}
if(o.iconpos){buttonClass+=" ui-btn-icon-"+o.iconpos;if(o.iconpos==="notext"&&!el.attr("title")){el.attr("title",el.getEncodedText());}}
if(o.iconpos&&o.iconpos==="notext"&&!el.attr("title")){el.attr("title",el.getEncodedText());}
if(buttonElements){el.removeClass(buttonElements.bcls||"");}
el.removeClass("ui-link").addClass(buttonClass);buttonInner.className=innerClass;buttonText.className=textClass;if(!buttonElements){buttonInner.appendChild(buttonText);}
if(buttonIcon){buttonIcon.className=iconClass;if(!(buttonElements&&buttonElements.icon)){buttonIcon.innerHTML="&#160;";buttonInner.appendChild(buttonIcon);}}
while(e.firstChild&&!buttonElements){buttonText.appendChild(e.firstChild);}
if(!buttonElements){e.appendChild(buttonInner);}
buttonElements={hover:hover,state:state,bcls:buttonClass,outer:e,inner:buttonInner,text:buttonText,icon:buttonIcon};$.data(e,'buttonElements',buttonElements);$.data(buttonInner,'buttonElements',buttonElements);$.data(buttonText,'buttonElements',buttonElements);if(buttonIcon){$.data(buttonIcon,'buttonElements',buttonElements);}}
return this;};$.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};function closestEnabledButton(element){var cname;while(element){cname=(typeof element.className==='string')&&(element.className+' ');if(cname&&cname.indexOf("ui-btn ")>-1&&cname.indexOf("ui-disabled ")<0){break;}
element=element.parentNode;}
return element;}
function updateButtonClass($btn,classToRemove,classToAdd,hover,state){var buttonElements=$.data($btn[0],"buttonElements");$btn.removeClass(classToRemove).addClass(classToAdd);if(buttonElements){buttonElements.bcls=$(document.createElement("div")).addClass(buttonElements.bcls+" "+classToAdd).removeClass(classToRemove).attr("class");if(hover!==undefined){buttonElements.hover=hover;}
buttonElements.state=state;}}
var attachEvents=function(){var hoverDelay=$.mobile.buttonMarkup.hoverDelay,hov,foc;$.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(event){var theme,$btn=$(closestEnabledButton(event.target)),isTouchEvent=event.originalEvent&&/^touch/.test(event.originalEvent.type),evt=event.type;if($btn.length){theme=$btn.attr("data-"+$.mobile.ns+"theme");if(evt==="vmousedown"){if(isTouchEvent){hov=setTimeout(function(){updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-down-"+theme,undefined,"down");},hoverDelay);}else{updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-down-"+theme,undefined,"down");}}else if(evt==="vmousecancel"||evt==="vmouseup"){updateButtonClass($btn,"ui-btn-down-"+theme,"ui-btn-up-"+theme,undefined,"up");}else if(evt==="vmouseover"||evt==="focus"){if(isTouchEvent){foc=setTimeout(function(){updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-hover-"+theme,true,"");},hoverDelay);}else{updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-hover-"+theme,true,"");}}else if(evt==="vmouseout"||evt==="blur"||evt==="scrollstart"){updateButtonClass($btn,"ui-btn-hover-"+theme+" ui-btn-down-"+theme,"ui-btn-up-"+theme,false,"up");if(hov){clearTimeout(hov);}
if(foc){clearTimeout(foc);}}}},"focusin focus":function(event){$(closestEnabledButton(event.target)).addClass($.mobile.focusClass);},"focusout blur":function(event){$(closestEnabledButton(event.target)).removeClass($.mobile.focusClass);}});attachEvents=null;};$.mobile.document.bind("pagecreate create",function(e){$(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",e.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup();});})(jQuery);(function($,undefined){$.widget("mobile.collapsible",$.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:true,corners:true,mini:false,initSelector:":jqmData(role='collapsible')"},_create:function(){var $el=this.element,o=this.options,collapsible=$el.addClass("ui-collapsible"),collapsibleHeading=$el.children(o.heading).first(),collapsibleContent=collapsible.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),collapsibleSet=$el.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),collapsibleClasses="";if(collapsibleHeading.is("legend")){collapsibleHeading=$("<div role='heading'>"+collapsibleHeading.html()+"</div>").insertBefore(collapsibleHeading);collapsibleHeading.next().remove();}
if(collapsibleSet.length){if(!o.theme){o.theme=collapsibleSet.jqmData("theme")||$.mobile.getInheritedTheme(collapsibleSet,"c");}
if(!o.contentTheme){o.contentTheme=collapsibleSet.jqmData("content-theme");}
o.collapsedIcon=$el.jqmData("collapsed-icon")||collapsibleSet.jqmData("collapsed-icon")||o.collapsedIcon;o.expandedIcon=$el.jqmData("expanded-icon")||collapsibleSet.jqmData("expanded-icon")||o.expandedIcon;o.iconpos=$el.jqmData("iconpos")||collapsibleSet.jqmData("iconpos")||o.iconpos;if(collapsibleSet.jqmData("inset")!==undefined){o.inset=collapsibleSet.jqmData("inset");}else{o.inset=true;}
o.corners=false;if(!o.mini){o.mini=collapsibleSet.jqmData("mini");}}else{if(!o.theme){o.theme=$.mobile.getInheritedTheme($el,"c");}}
if(!!o.inset){collapsibleClasses+=" ui-collapsible-inset";if(!!o.corners){collapsibleClasses+=" ui-corner-all";}}
if(o.contentTheme){collapsibleClasses+=" ui-collapsible-themed-content";collapsibleContent.addClass("ui-body-"+o.contentTheme);}
if(collapsibleClasses!==""){collapsible.addClass(collapsibleClasses);}
collapsibleHeading.insertBefore(collapsibleContent).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:o.iconpos,icon:o.collapsedIcon,mini:o.mini,theme:o.theme});collapsible.bind("expand collapse",function(event){if(!event.isDefaultPrevented()){var $this=$(this),isCollapse=(event.type==="collapse");event.preventDefault();collapsibleHeading.toggleClass("ui-collapsible-heading-collapsed",isCollapse).find(".ui-collapsible-heading-status").text(isCollapse?o.expandCueText:o.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+o.expandedIcon,!isCollapse).toggleClass("ui-icon-"+o.collapsedIcon,(isCollapse||o.expandedIcon===o.collapsedIcon)).end().find("a").first().removeClass($.mobile.activeBtnClass);$this.toggleClass("ui-collapsible-collapsed",isCollapse);collapsibleContent.toggleClass("ui-collapsible-content-collapsed",isCollapse).attr("aria-hidden",isCollapse);collapsibleContent.trigger("updatelayout");}}).trigger(o.collapsed?"collapse":"expand");collapsibleHeading.bind("tap",function(event){collapsibleHeading.find("a").first().addClass($.mobile.activeBtnClass);}).bind("click",function(event){var type=collapsibleHeading.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";collapsible.trigger(type);event.preventDefault();event.stopPropagation();});}});$.mobile.document.bind("pagecreate create",function(e){$.mobile.collapsible.prototype.enhanceWithin(e.target);});})(jQuery);(function($,undefined){$.widget("mobile.collapsibleset",$.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var $el=this.element.addClass("ui-collapsible-set"),o=this.options;if(!o.theme){o.theme=$.mobile.getInheritedTheme($el,"c");}
if(!o.contentTheme){o.contentTheme=$el.jqmData("content-theme");}
if(!o.corners){o.corners=$el.jqmData("corners");}
if($el.jqmData("inset")!==undefined){o.inset=$el.jqmData("inset");}
o.inset=o.inset!==undefined?o.inset:true;o.corners=o.corners!==undefined?o.corners:true;if(!!o.corners&&!!o.inset){$el.addClass("ui-corner-all");}
if(!$el.jqmData("collapsiblebound")){$el.jqmData("collapsiblebound",true).bind("expand",function(event){var closestCollapsible=$(event.target).closest(".ui-collapsible");if(closestCollapsible.parent().is(":jqmData(role='collapsible-set')")){closestCollapsible.siblings(".ui-collapsible").trigger("collapse");}});}},_init:function(){var $el=this.element,collapsiblesInSet=$el.children(":jqmData(role='collapsible')"),expanded=collapsiblesInSet.filter(":jqmData(collapsed='false')");this._refresh("true");expanded.trigger("expand");},_refresh:function(create){var collapsiblesInSet=this.element.children(":jqmData(role='collapsible')");$.mobile.collapsible.prototype.enhance(collapsiblesInSet.not(".ui-collapsible"));this._addFirstLastClasses(collapsiblesInSet,this._getVisibles(collapsiblesInSet,create),create);},refresh:function(){this._refresh(false);}});$.widget("mobile.collapsibleset",$.mobile.collapsibleset,$.mobile.behaviors.addFirstLastClasses);$.mobile.document.bind("pagecreate create",function(e){$.mobile.collapsibleset.prototype.enhanceWithin(e.target);});})(jQuery);(function($,undefined){$.widget("mobile.navbar",$.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var $navbar=this.element,$navbtns=$navbar.find("a"),iconpos=$navbtns.filter(":jqmData(icon)").length?this.options.iconpos:undefined;$navbar.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});$navbtns.buttonMarkup({corners:false,shadow:false,inline:true,iconpos:iconpos});$navbar.delegate("a","vclick",function(event){if(!$(event.target).hasClass("ui-disabled")){$navbtns.removeClass($.mobile.activeBtnClass);$(this).addClass($.mobile.activeBtnClass);var activeNavbtn=$(this);$(document).one("pagechange",function(event){activeNavbtn.removeClass($.mobile.activeBtnClass);});}});$navbar.closest(".ui-page").bind("pagebeforeshow",function(){$navbtns.filter(".ui-state-persist").addClass($.mobile.activeBtnClass);});}});$.mobile.document.bind("pagecreate create",function(e){$.mobile.navbar.prototype.enhanceWithin(e.target);});})(jQuery);(function($,undefined){var listCountPerPage={};$.widget("mobile.listview",$.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:true,shadow:true,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var t=this,listviewClasses="";listviewClasses+=t.options.inset?" ui-listview-inset":"";if(!!t.options.inset){listviewClasses+=t.options.corners?" ui-corner-all":"";listviewClasses+=t.options.shadow?" ui-shadow":"";}
t.element.addClass(function(i,orig){return orig+" ui-listview"+listviewClasses;});t.refresh(true);},_findFirstElementByTagName:function(ele,nextProp,lcName,ucName){var dict={};dict[lcName]=dict[ucName]=true;while(ele){if(dict[ele.nodeName]){return ele;}
ele=ele[nextProp];}
return null;},_getChildrenByTagName:function(ele,lcName,ucName){var results=[],dict={};dict[lcName]=dict[ucName]=true;ele=ele.firstChild;while(ele){if(dict[ele.nodeName]){results.push(ele);}
ele=ele.nextSibling;}
return $(results);},_addThumbClasses:function(containers){var i,img,len=containers.length;for(i=0;i<len;i++){img=$(this._findFirstElementByTagName(containers[i].firstChild,"nextSibling","img","IMG"));if(img.length){img.addClass("ui-li-thumb");$(this._findFirstElementByTagName(img[0].parentNode,"parentNode","li","LI")).addClass(img.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb");}}},refresh:function(create){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var o=this.options,$list=this.element,self=this,dividertheme=$list.jqmData("dividertheme")||o.dividerTheme,listsplittheme=$list.jqmData("splittheme"),listspliticon=$list.jqmData("spliticon"),listicon=$list.jqmData("icon"),li=this._getChildrenByTagName($list[0],"li","LI"),ol=!!$.nodeName($list[0],"ol"),jsCount=!$.support.cssPseudoElement,start=$list.attr("start"),itemClassDict={},item,itemClass,itemTheme,a,last,splittheme,counter,startCount,newStartCount,countParent,icon,imgParents,img,linkIcon;if(ol&&jsCount){$list.find(".ui-li-dec").remove();}
if(ol){if(start||start===0){if(!jsCount){startCount=parseInt(start,10)-1;$list.css("counter-reset","listnumbering "+startCount);}else{counter=parseInt(start,10);}}else if(jsCount){counter=1;}}
if(!o.theme){o.theme=$.mobile.getInheritedTheme(this.element,"c");}
for(var pos=0,numli=li.length;pos<numli;pos++){item=li.eq(pos);itemClass="ui-li";if(create||!item.hasClass("ui-li")){itemTheme=item.jqmData("theme")||o.theme;a=this._getChildrenByTagName(item[0],"a","A");var isDivider=(item.jqmData("role")==="list-divider");if(a.length&&!isDivider){icon=item.jqmData("icon");item.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:a.length>1||icon===false?false:icon||listicon||o.icon,theme:itemTheme});if((icon!==false)&&(a.length===1)){item.addClass("ui-li-has-arrow");}
a.first().removeClass("ui-link").addClass("ui-link-inherit");if(a.length>1){itemClass+=" ui-li-has-alt";last=a.last();splittheme=listsplittheme||last.jqmData("theme")||o.splitTheme;linkIcon=last.jqmData("icon");last.appendTo(item).attr("title",$.trim(last.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:itemTheme,icon:false,iconpos:"notext"}).find(".ui-btn-inner").append($(document.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:splittheme,iconpos:"notext",icon:linkIcon||icon||listspliticon||o.splitIcon}));}}else if(isDivider){itemClass+=" ui-li-divider ui-bar-"+(item.jqmData("theme")||dividertheme);item.attr("role","heading");if(ol){if(start||start===0){if(!jsCount){newStartCount=parseInt(start,10)-1;item.css("counter-reset","listnumbering "+newStartCount);}else{counter=parseInt(start,10);}}else if(jsCount){counter=1;}}}else{itemClass+=" ui-li-static ui-btn-up-"+itemTheme;}}
if(ol&&jsCount&&itemClass.indexOf("ui-li-divider")<0){countParent=itemClass.indexOf("ui-li-static")>0?item:item.find(".ui-link-inherit");countParent.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+(counter++)+". </span>");}
if(!itemClassDict[itemClass]){itemClassDict[itemClass]=[];}
itemClassDict[itemClass].push(item[0]);}
for(itemClass in itemClassDict){$(itemClassDict[itemClass]).addClass(itemClass).children(".ui-btn-inner").addClass(itemClass);}
$list.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var $this=$(this);$this.prependTo($this.parent());}).end().find(".ui-li-count").each(function(){$(this).closest("li").addClass("ui-li-has-count");}).addClass("ui-btn-up-"+($list.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(li);this._addThumbClasses($list.find(".ui-link-inherit"));this._addFirstLastClasses(li,this._getVisibles(li,create),create);this._trigger("afterrefresh");},_idStringEscape:function(str){return str.replace(/[^a-zA-Z0-9]/g,'-');},_createSubPages:function(){var parentList=this.element,parentPage=parentList.closest(".ui-page"),parentUrl=parentPage.jqmData("url"),parentId=parentUrl||parentPage[0][$.expando],parentListId=parentList.attr("id"),o=this.options,dns="data-"+$.mobile.ns,self=this,persistentFooterID=parentPage.find(":jqmData(role='footer')").jqmData("id"),hasSubPages;if(typeof listCountPerPage[parentId]==="undefined"){listCountPerPage[parentId]=-1;}
parentListId=parentListId||++listCountPerPage[parentId];$(parentList.find("li>ul, li>ol").toArray().reverse()).each(function(i){var self=this,list=$(this),listId=list.attr("id")||parentListId+"-"+i,parent=list.parent(),nodeElsFull=$(list.prevAll().toArray().reverse()),nodeEls=nodeElsFull.length?nodeElsFull:$("<span>"+$.trim(parent.contents()[0].nodeValue)+"</span>"),title=nodeEls.first().getEncodedText(),id=(parentUrl||"")+"&"+$.mobile.subPageUrlKey+"="+listId,theme=list.jqmData("theme")||o.theme,countTheme=list.jqmData("counttheme")||parentList.jqmData("counttheme")||o.countTheme,newPage,anchor;hasSubPages=true;newPage=list.detach().wrap("<div "+dns+"role='page' "+dns+"url='"+id+"' "+dns+"theme='"+theme+"' "+dns+"count-theme='"+countTheme+"'><div "+dns+"role='content'></div></div>").parent().before("<div "+dns+"role='header' "+dns+"theme='"+o.headerTheme+"'><div class='ui-title'>"+title+"</div></div>").after(persistentFooterID?$("<div "+dns+"role='footer' "+dns+"id='"+persistentFooterID+"'>"):"").parent().appendTo($.mobile.pageContainer);newPage.page();anchor=parent.find('a:first');if(!anchor.length){anchor=$("<a/>").html(nodeEls||title).prependTo(parent.empty());}
anchor.attr("href","#"+id);}).listview();if(hasSubPages&&parentPage.is(":jqmData(external-page='true')")&&parentPage.data("mobile-page").options.domCache===false){var newRemove=function(e,ui){var nextPage=ui.nextPage,npURL,prEvent=new $.Event("pageremove");if(ui.nextPage){npURL=nextPage.jqmData("url");if(npURL.indexOf(parentUrl+"&"+$.mobile.subPageUrlKey)!==0){self.childPages().remove();parentPage.trigger(prEvent);if(!prEvent.isDefaultPrevented()){parentPage.removeWithDependents();}}}};parentPage.unbind("pagehide.remove").bind("pagehide.remove",newRemove);}},childPages:function(){var parentUrl=this.parentPage.jqmData("url");return $(":jqmData(url^='"+parentUrl+"&"+$.mobile.subPageUrlKey+"')");}});$.widget("mobile.listview",$.mobile.listview,$.mobile.behaviors.addFirstLastClasses);$.mobile.document.bind("pagecreate create",function(e){$.mobile.listview.prototype.enhanceWithin(e.target);});})(jQuery);(function($,undefined){$.mobile.listview.prototype.options.autodividers=false;$.mobile.listview.prototype.options.autodividersSelector=function(elt){var text=$.trim(elt.text())||null;if(!text){return null;}
text=text.slice(0,1).toUpperCase();return text;};$.mobile.document.delegate("ul,ol","listviewcreate",function(){var list=$(this),listview=list.data("mobile-listview");if(!listview||!listview.options.autodividers){return;}
var replaceDividers=function(){list.find("li:jqmData(role='list-divider')").remove();var lis=list.find('li'),lastDividerText=null,li,dividerText;for(var i=0;i<lis.length;i++){li=lis[i];dividerText=listview.options.autodividersSelector($(li));if(dividerText&&lastDividerText!==dividerText){var divider=document.createElement('li');divider.appendChild(document.createTextNode(dividerText));divider.setAttribute('data-'+$.mobile.ns+'role','list-divider');li.parentNode.insertBefore(divider,li);}
lastDividerText=dividerText;}};var afterListviewRefresh=function(){list.unbind('listviewafterrefresh',afterListviewRefresh);replaceDividers();listview.refresh();list.bind('listviewafterrefresh',afterListviewRefresh);};afterListviewRefresh();});})(jQuery);(function($,undefined){$.widget("mobile.checkboxradio",$.mobile.widget,{options:{theme:null,mini:false,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var self=this,input=this.element,o=this.options,inheritAttr=function(input,dataAttr){return input.jqmData(dataAttr)||input.closest("form, fieldset").jqmData(dataAttr);},parentLabel=$(input).closest("label"),label=parentLabel.length?parentLabel:$(input).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+input[0].id+"']").first(),inputtype=input[0].type,mini=inheritAttr(input,"mini")||o.mini,checkedState=inputtype+"-on",uncheckedState=inputtype+"-off",iconpos=inheritAttr(input,"iconpos"),checkedClass="ui-"+checkedState,uncheckedClass="ui-"+uncheckedState;$(input).attr("value",input.prop("checked")?"on":"off");if(inputtype!=="checkbox"&&inputtype!=="radio"){return;}
$.extend(this,{label:label,inputtype:inputtype,checkedClass:checkedClass,uncheckedClass:uncheckedClass,checkedicon:checkedState,uncheckedicon:uncheckedState});if(!o.theme){o.theme=$.mobile.getInheritedTheme(this.element,"c");}
label.buttonMarkup({theme:o.theme,icon:uncheckedState,shadow:false,mini:mini,iconpos:iconpos});var wrapper=document.createElement('div');wrapper.className='ui-'+inputtype;input.add(label).wrapAll(wrapper);label.bind({vmouseover:function(event){if($(this).parent().is(".ui-disabled")){event.stopPropagation();}},vclick:function(event){if(input.is(":disabled")){event.preventDefault();return;}
self._cacheVals();input.prop("checked",inputtype==="radio"&&true||!input.prop("checked"));input.triggerHandler('click');self._getInputSet().not(input).prop("checked",false);self._updateAll();$(input).attr("checked",input.prop("checked"));$(input).attr("value",input.prop("checked")?"on":"off");return false;}});input.bind({vmousedown:function(){self._cacheVals();},vclick:function(){var $this=$(this);if($this.is(":checked")){$this.prop("checked",true);self._getInputSet().not($this).prop("checked",false);}else{$this.prop("checked",false);}
self._updateAll();},focus:function(){label.addClass($.mobile.focusClass);},blur:function(){label.removeClass($.mobile.focusClass);}});if(this._handleFormReset){this._handleFormReset();}
this.refresh();},_cacheVals:function(){this._getInputSet().each(function(){$(this).jqmData("cacheVal",this.checked);});},_getInputSet:function(){if(this.inputtype==="checkbox"){return this.element;}
return this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']");},_updateAll:function(){var self=this;this._getInputSet().each(function(){var $this=$(this);if(this.checked||self.inputtype==="checkbox"){$this.trigger("change");}}).checkboxradio("refresh");},_reset:function(){this.refresh();},refresh:function(){var input=this.element[0],active=" "+$.mobile.activeBtnClass,checkedClass=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?active:""),label=this.label;if(input.checked){label.removeClass(this.uncheckedClass+active).addClass(checkedClass).buttonMarkup({icon:this.checkedicon});}else{label.removeClass(checkedClass).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon});}
if(input.disabled){this.disable();}else{this.enable();}},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled");},enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled");}});$.widget("mobile.checkboxradio",$.mobile.checkboxradio,$.mobile.behaviors.formReset);$.mobile.document.bind("pagecreate create",function(e){$.mobile.checkboxradio.prototype.enhanceWithin(e.target,true);});})(jQuery);(function($,undefined){$.widget("mobile.button",$.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:true,shadow:true,iconshadow:true,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var $el=this.element,$button,o=(function(tdo){var key,ret={};for(key in tdo){if(tdo[key]!==null&&key!=="initSelector"){ret[key]=tdo[key];}}
return ret;})(this.options),classes="",$buttonPlaceholder;if($el[0].tagName==="A"){if(!$el.hasClass("ui-btn")){$el.buttonMarkup();}
return;}
if(!this.options.theme){this.options.theme=$.mobile.getInheritedTheme(this.element,"c");}
if(!!~$el[0].className.indexOf("ui-btn-left")){classes="ui-btn-left";}
if(!!~$el[0].className.indexOf("ui-btn-right")){classes="ui-btn-right";}
if($el.attr("type")==="submit"||$el.attr("type")==="reset"){classes?classes+=" ui-submit":classes="ui-submit";}
$("label[for='"+$el.attr("id")+"']").addClass("ui-submit");this.button=$("<div></div>")
[$el.html()?"html":"text"]($el.html()||$el.val()).insertBefore($el).buttonMarkup(o).addClass(classes).append($el.addClass("ui-btn-hidden"));$button=this.button;$el.bind({focus:function(){$button.addClass($.mobile.focusClass);},blur:function(){$button.removeClass($.mobile.focusClass);}});this.refresh();},_setOption:function(key,value){var op={};op[key]=value;if(key!=="initSelector"){this.button.buttonMarkup(op);this.element.attr("data-"+($.mobile.ns||"")+(key.replace(/([A-Z])/,"-$1").toLowerCase()),value);}
this._super("_setOption",key,value);},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false);},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true);},refresh:function(){var $el=this.element;if($el.prop("disabled")){this.disable();}else{this.enable();}
$(this.button.data('buttonElements').text)[$el.html()?"html":"text"]($el.html()||$el.val());}});$.mobile.document.bind("pagecreate create",function(e){$.mobile.button.prototype.enhanceWithin(e.target,true);});})(jQuery);(function($,undefined){$.widget("mobile.controlgroup",$.mobile.widget,{options:{shadow:false,corners:true,excludeInvisible:true,type:"vertical",mini:false,initSelector:":jqmData(role='controlgroup')"},_create:function(){var $el=this.element,ui={inner:$("<div class='ui-controlgroup-controls'></div>"),legend:$("<div role='heading' class='ui-controlgroup-label'></div>")},grouplegend=$el.children("legend"),self=this;$el.wrapInner(ui.inner);if(grouplegend.length){ui.legend.append(grouplegend).insertBefore($el.children(0));}
$el.addClass("ui-corner-all ui-controlgroup");$.extend(this,{_initialRefresh:true});$.each(this.options,function(key,value){self.options[key]=undefined;self._setOption(key,value,true);});},_init:function(){this.refresh();},_setOption:function(key,value){var setter="_set"+key.charAt(0).toUpperCase()+key.slice(1);if(this[setter]!==undefined){this[setter](value);}
this._super(key,value);this.element.attr("data-"+($.mobile.ns||"")+(key.replace(/([A-Z])/,"-$1").toLowerCase()),value);},_setType:function(value){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+value);this.refresh();},_setCorners:function(value){this.element.toggleClass("ui-corner-all",value);},_setShadow:function(value){this.element.toggleClass("ui-shadow",value);},_setMini:function(value){this.element.toggleClass("ui-mini",value);},container:function(){return this.element.children(".ui-controlgroup-controls");},refresh:function(){var els=this.element.find(".ui-btn").not(".ui-slider-handle"),create=this._initialRefresh;if($.mobile.checkboxradio){this.element.find(":mobile-checkboxradio").checkboxradio("refresh");}
this._addFirstLastClasses(els,this.options.excludeInvisible?this._getVisibles(els,create):els,create);this._initialRefresh=false;}});$.widget("mobile.controlgroup",$.mobile.controlgroup,$.mobile.behaviors.addFirstLastClasses);$(function(){$.mobile.document.bind("pagecreate create",function(e){$.mobile.controlgroup.prototype.enhanceWithin(e.target,true);});});})(jQuery);(function($,undefined){$(document).bind("pagecreate create",function(e){$(e.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link");});})(jQuery);(function($,undefined){function fitSegmentInsideSegment(winSize,segSize,offset,desired){var ret=desired;if(winSize<segSize){ret=offset+(winSize-segSize)/2;}else{ret=Math.min(Math.max(offset,desired-segSize/2),offset+winSize-segSize);}
return ret;}
function windowCoords(){var $win=$.mobile.window;return{x:$win.scrollLeft(),y:$win.scrollTop(),cx:(window.innerWidth||$win.width()),cy:(window.innerHeight||$win.height())};}
$.widget("mobile.popup",$.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:true,corners:true,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:true,history:!$.mobile.browser.oldIE},_eatEventAndClose:function(e){e.preventDefault();e.stopImmediatePropagation();if(this.options.dismissible){this.close();}
return false;},_resizeScreen:function(){var popupHeight=this._ui.container.outerHeight(true);this._ui.screen.removeAttr("style");if(popupHeight>this._ui.screen.height()){this._ui.screen.height(popupHeight);}},_handleWindowKeyUp:function(e){if(this._isOpen&&e.keyCode===$.mobile.keyCode.ESCAPE){return this._eatEventAndClose(e);}},_expectResizeEvent:function(){var winCoords=windowCoords();if(this._resizeData){if(winCoords.x===this._resizeData.winCoords.x&&winCoords.y===this._resizeData.winCoords.y&&winCoords.cx===this._resizeData.winCoords.cx&&winCoords.cy===this._resizeData.winCoords.cy){return false;}else{clearTimeout(this._resizeData.timeoutId);}}
this._resizeData={timeoutId:setTimeout($.proxy(this,"_resizeTimeout"),200),winCoords:winCoords};return true;},_resizeTimeout:function(){if(this._isOpen){if(!this._expectResizeEvent()){if(this._ui.container.hasClass("ui-popup-hidden")){this._ui.container.removeClass("ui-popup-hidden");this.reposition({positionTo:"window"});this._ignoreResizeEvents();}
this._resizeScreen();this._resizeData=null;this._orientationchangeInProgress=false;}}else{this._resizeData=null;this._orientationchangeInProgress=false;}},_ignoreResizeEvents:function(){var self=this;if(this._ignoreResizeTo){clearTimeout(this._ignoreResizeTo);}
this._ignoreResizeTo=setTimeout(function(){self._ignoreResizeTo=0;},1000);},_handleWindowResize:function(e){if(this._isOpen&&this._ignoreResizeTo===0){if((this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")){this._ui.container.addClass("ui-popup-hidden").removeAttr("style");}}},_handleWindowOrientationchange:function(e){if(!this._orientationchangeInProgress&&this._isOpen&&this._ignoreResizeTo===0){this._expectResizeEvent();this._orientationchangeInProgress=true;}},_handleDocumentFocusIn:function(e){var tgt=e.target,$tgt,ui=this._ui;if(!this._isOpen){return;}
if(tgt!==ui.container[0]){$tgt=$(e.target);if(0===$tgt.parents().filter(ui.container[0]).length){$(document.activeElement).one("focus",function(e){$tgt.blur();});ui.focusElement.focus();e.preventDefault();e.stopImmediatePropagation();return false;}else if(ui.focusElement[0]===ui.container[0]){ui.focusElement=$tgt;}}else if(ui.focusElement&&ui.focusElement[0]!==ui.container[0]){ui.container.blur();ui.focusElement.focus();}
this._ignoreResizeEvents();},_create:function(){var ui={screen:$("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:$("<div style='display: none;'><!-- placeholder --></div>"),container:$("<div class='ui-popup-container ui-popup-hidden'></div>")},thisPage=this.element.closest(".ui-page"),myId=this.element.attr("id"),self=this;this.options.history=this.options.history&&$.mobile.ajaxEnabled&&$.mobile.hashListeningEnabled;if(thisPage.length===0){thisPage=$("body");}
this.options.container=this.options.container||$.mobile.pageContainer;thisPage.append(ui.screen);ui.container.insertAfter(ui.screen);ui.placeholder.insertAfter(this.element);if(myId){ui.screen.attr("id",myId+"-screen");ui.container.attr("id",myId+"-popup");ui.placeholder.html("<!-- placeholder for "+myId+" -->");}
ui.container.append(this.element);ui.focusElement=ui.container;this.element.addClass("ui-popup");$.extend(this,{_scrollTop:0,_page:thisPage,_ui:ui,_fallbackTransition:"",_currentTransition:false,_prereqs:null,_isOpen:false,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:false});$.each(this.options,function(key,value){self.options[key]=undefined;self._setOption(key,value,true);});ui.screen.bind("vclick",$.proxy(this,"_eatEventAndClose"));this._on($.mobile.window,{orientationchange:$.proxy(this,"_handleWindowOrientationchange"),resize:$.proxy(this,"_handleWindowResize"),keyup:$.proxy(this,"_handleWindowKeyUp")});this._on($.mobile.document,{focusin:$.proxy(this,"_handleDocumentFocusIn")});},_applyTheme:function(dst,theme,prefix){var classes=(dst.attr("class")||"").split(" "),alreadyAdded=true,currentTheme=null,matches,themeStr=String(theme);while(classes.length>0){currentTheme=classes.pop();matches=(new RegExp("^ui-"+prefix+"-([a-z])$")).exec(currentTheme);if(matches&&matches.length>1){currentTheme=matches[1];break;}else{currentTheme=null;}}
if(theme!==currentTheme){dst.removeClass("ui-"+prefix+"-"+currentTheme);if(!(theme===null||theme==="none")){dst.addClass("ui-"+prefix+"-"+themeStr);}}},_setTheme:function(value){this._applyTheme(this.element,value,"body");},_setOverlayTheme:function(value){this._applyTheme(this._ui.screen,value,"overlay");if(this._isOpen){this._ui.screen.addClass("in");}},_setShadow:function(value){this.element.toggleClass("ui-overlay-shadow",value);},_setCorners:function(value){this.element.toggleClass("ui-corner-all",value);},_applyTransition:function(value){this._ui.container.removeClass(this._fallbackTransition);if(value&&value!=="none"){this._fallbackTransition=$.mobile._maybeDegradeTransition(value);if(this._fallbackTransition==="none"){this._fallbackTransition="";}
this._ui.container.addClass(this._fallbackTransition);}},_setTransition:function(value){if(!this._currentTransition){this._applyTransition(value);}},_setTolerance:function(value){var tol={t:30,r:15,b:30,l:15};if(value!==undefined){var ar=String(value).split(",");$.each(ar,function(idx,val){ar[idx]=parseInt(val,10);});switch(ar.length){case 1:if(!isNaN(ar[0])){tol.t=tol.r=tol.b=tol.l=ar[0];}
break;case 2:if(!isNaN(ar[0])){tol.t=tol.b=ar[0];}
if(!isNaN(ar[1])){tol.l=tol.r=ar[1];}
break;case 4:if(!isNaN(ar[0])){tol.t=ar[0];}
if(!isNaN(ar[1])){tol.r=ar[1];}
if(!isNaN(ar[2])){tol.b=ar[2];}
if(!isNaN(ar[3])){tol.l=ar[3];}
break;default:break;}}
this._tolerance=tol;},_setOption:function(key,value){var exclusions,setter="_set"+key.charAt(0).toUpperCase()+key.slice(1);if(this[setter]!==undefined){this[setter](value);}
exclusions=["initSelector","closeLinkSelector","closeLinkEvents","navigateEvents","closeEvents","history","container"];$.mobile.widget.prototype._setOption.apply(this,arguments);if($.inArray(key,exclusions)===-1){this.element.attr("data-"+($.mobile.ns||"")+(key.replace(/([A-Z])/,"-$1").toLowerCase()),value);}},_placementCoords:function(desired){var
winCoords=windowCoords(),rc={x:this._tolerance.l,y:winCoords.y+this._tolerance.t,cx:winCoords.cx-this._tolerance.l-this._tolerance.r,cy:winCoords.cy-this._tolerance.t-this._tolerance.b},menuSize,ret;this._ui.container.css("max-width",rc.cx);menuSize={cx:this._ui.container.outerWidth(true),cy:this._ui.container.outerHeight(true)};ret={x:fitSegmentInsideSegment(rc.cx,menuSize.cx,rc.x,desired.x),y:fitSegmentInsideSegment(rc.cy,menuSize.cy,rc.y,desired.y)};ret.y=Math.max(0,ret.y);var docEl=document.documentElement,docBody=document.body,docHeight=Math.max(docEl.clientHeight,docBody.scrollHeight,docBody.offsetHeight,docEl.scrollHeight,docEl.offsetHeight);ret.y-=Math.min(ret.y,Math.max(0,ret.y+menuSize.cy-docHeight));return{left:ret.x,top:ret.y};},_createPrereqs:function(screenPrereq,containerPrereq,whenDone){var self=this,prereqs;prereqs={screen:$.Deferred(),container:$.Deferred()};prereqs.screen.then(function(){if(prereqs===self._prereqs){screenPrereq();}});prereqs.container.then(function(){if(prereqs===self._prereqs){containerPrereq();}});$.when(prereqs.screen,prereqs.container).done(function(){if(prereqs===self._prereqs){self._prereqs=null;whenDone();}});self._prereqs=prereqs;},_animate:function(args){this._ui.screen.removeClass(args.classToRemove).addClass(args.screenClassToAdd);args.prereqs.screen.resolve();if(args.transition&&args.transition!=="none"){if(args.applyTransition){this._applyTransition(args.transition);}
if(this._fallbackTransition){this._ui.container.animationComplete($.proxy(args.prereqs.container,"resolve")).addClass(args.containerClassToAdd).removeClass(args.classToRemove);return;}}
this._ui.container.removeClass(args.classToRemove);args.prereqs.container.resolve();},_desiredCoords:function(o){var dst=null,offset,winCoords=windowCoords(),x=o.x,y=o.y,pTo=o.positionTo;if(pTo&&pTo!=="origin"){if(pTo==="window"){x=winCoords.cx/2+winCoords.x;y=winCoords.cy/2+winCoords.y;}else{try{dst=$(pTo);}catch(e){dst=null;}
if(dst){dst.filter(":visible");if(dst.length===0){dst=null;}}}}
if(dst){offset=dst.offset();x=offset.left+dst.outerWidth()/2;y=offset.top+dst.outerHeight()/2;}
if($.type(x)!=="number"||isNaN(x)){x=winCoords.cx/2+winCoords.x;}
if($.type(y)!=="number"||isNaN(y)){y=winCoords.cy/2+winCoords.y;}
return{x:x,y:y};},_reposition:function(o){o={x:o.x,y:o.y,positionTo:o.positionTo};this._trigger("beforeposition",o);this._ui.container.offset(this._placementCoords(this._desiredCoords(o)));},reposition:function(o){if(this._isOpen){this._reposition(o);}},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active");this._isOpen=true;this._resizeScreen();this._ui.container.attr("tabindex","0").focus();this._ignoreResizeEvents();this._trigger("afteropen");},_open:function(options){var o=$.extend({},this.options,options),androidBlacklist=(function(){var w=window,ua=navigator.userAgent,wkmatch=ua.match(/AppleWebKit\/([0-9\.]+)/),wkversion=!!wkmatch&&wkmatch[1],androidmatch=ua.match(/Android (\d+(?:\.\d+))/),andversion=!!androidmatch&&androidmatch[1],chromematch=ua.indexOf("Chrome")>-1;if(androidmatch!==null&&andversion==="4.0"&&wkversion&&wkversion>534.13&&!chromematch){return true;}
return false;}());this._createPrereqs($.noop,$.noop,$.proxy(this,"_openPrereqsComplete"));this._currentTransition=o.transition;this._applyTransition(o.transition);if(!this.options.theme){this._setTheme(this._page.jqmData("theme")||$.mobile.getInheritedTheme(this._page,"c"));}
this._ui.screen.removeClass("ui-screen-hidden");this._ui.container.removeClass("ui-popup-hidden");this._reposition(o);if(this.options.overlayTheme&&androidBlacklist){this.element.closest(".ui-page").addClass("ui-popup-open");}
this._animate({additionalCondition:true,transition:o.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:false,prereqs:this._prereqs});},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden");},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style");},_closePrereqsDone:function(){var opts=this.options;this._ui.container.removeAttr("tabindex");$.mobile.popup.active=undefined;this._trigger("afterclose");},_close:function(immediate){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=false;this._createPrereqs($.proxy(this,"_closePrereqScreen"),$.proxy(this,"_closePrereqContainer"),$.proxy(this,"_closePrereqsDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:(immediate?"none":(this._currentTransition)),classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:true,prereqs:this._prereqs});},_unenhance:function(){this._setTheme("none");this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all");this._ui.screen.remove();this._ui.container.remove();this._ui.placeholder.remove();},_destroy:function(){if($.mobile.popup.active===this){this.element.one("popupafterclose",$.proxy(this,"_unenhance"));this.close();}else{this._unenhance();}},_closePopup:function(e,data){var parsedDst,toUrl,o=this.options,immediate=false;window.scrollTo(0,this._scrollTop);if(e&&e.type==="pagebeforechange"&&data){if(typeof data.toPage==="string"){parsedDst=data.toPage;}else{parsedDst=data.toPage.jqmData("url");}
parsedDst=$.mobile.path.parseUrl(parsedDst);toUrl=parsedDst.pathname+parsedDst.search+parsedDst.hash;if(this._myUrl!==$.mobile.path.makeUrlAbsolute(toUrl)){immediate=true;}else{e.preventDefault();}}
o.container.unbind(o.closeEvents);this.element.undelegate(o.closeLinkSelector,o.closeLinkEvents);this._close(immediate);},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,$.proxy(this,"_closePopup"));},open:function(options){var self=this,opts=this.options,url,hashkey,activePage,currentIsDialog,hasHash,urlHistory;if($.mobile.popup.active){return;}
$.mobile.popup.active=this;this._scrollTop=$.mobile.window.scrollTop();if(!(opts.history)){self._open(options);self._bindContainerClose();self.element.delegate(opts.closeLinkSelector,opts.closeLinkEvents,function(e){self.close();e.preventDefault();});return;}
urlHistory=$.mobile.urlHistory;hashkey=$.mobile.dialogHashKey;activePage=$.mobile.activePage;currentIsDialog=activePage.is(".ui-dialog");this._myUrl=url=urlHistory.getActive().url;hasHash=(url.indexOf(hashkey)>-1)&&!currentIsDialog&&(urlHistory.activeIndex>0);if(hasHash){self._open(options);self._bindContainerClose();return;}
if(url.indexOf(hashkey)===-1&&!currentIsDialog){url=url+(url.indexOf("#")>-1?hashkey:"#"+hashkey);}else{url=$.mobile.path.parseLocation().hash+hashkey;}
if(urlHistory.activeIndex===0&&url===urlHistory.initialDst){url+=hashkey;}
$(window).one("beforenavigate",function(e){e.preventDefault();self._open(options);self._bindContainerClose();});this.urlAltered=true;$.mobile.navigate(url,{role:"dialog"});},close:function(){if($.mobile.popup.active!==this){return;}
this._scrollTop=$.mobile.window.scrollTop();if(this.options.history&&this.urlAltered){$.mobile.back();this.urlAltered=false;}else{this._closePopup();}}});$.mobile.popup.handleLink=function($link){var closestPage=$link.closest(":jqmData(role='page')"),scope=((closestPage.length===0)?$("body"):closestPage),popup=$($.mobile.path.parseUrl($link.attr("href")).hash,scope[0]),offset;if(popup.data("mobile-popup")){offset=$link.offset();popup.popup("open",{x:offset.left+$link.outerWidth()/2,y:offset.top+$link.outerHeight()/2,transition:$link.jqmData("transition"),positionTo:$link.jqmData("position-to")});}
setTimeout(function(){var $parent=$link.parent().parent();if($parent.hasClass("ui-li")){$link=$parent.parent();}
$link.removeClass($.mobile.activeBtnClass);},300);};$.mobile.document.bind("pagebeforechange",function(e,data){if(data.options.role==="popup"){$.mobile.popup.handleLink(data.options.link);e.preventDefault();}});$.mobile.document.bind("pagecreate create",function(e){$.mobile.popup.prototype.enhanceWithin(e.target,true);});})(jQuery);(function($,undefined){$.widget("mobile.panel",$.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:true,theme:"c",position:"left",dismissible:true,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:true,positionFixed:false},_panelID:null,_closeLink:null,_page:null,_modal:null,_pannelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var self=this,$el=self.element,page=$el.closest(":jqmData(role='page')"),_getPageTheme=function(){var $theme=$.data(page[0],"mobilePage").options.theme,$pageThemeClass="ui-body-"+$theme;return $pageThemeClass;},_getPanelInner=function(){var $pannelInner=$el.find("."+self.options.classes.panelInner);if($pannelInner.length===0){$pannelInner=$el.children().wrapAll('<div class="'+self.options.classes.panelInner+'" />').parent();}
return $pannelInner;},_getWrapper=function(){var $wrapper=page.find("."+self.options.classes.contentWrap);if($wrapper.length===0){$wrapper=page.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+self.options.classes.contentWrap+' '+_getPageTheme()+'" />').parent();if($.support.cssTransform3d&&!!self.options.animate){$wrapper.addClass(self.options.classes.animate);}}
return $wrapper;},_getFixedToolbar=function(){var $fixedToolbar=page.find("."+self.options.classes.contentFixedToolbar);if($fixedToolbar.length===0){$fixedToolbar=page.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(self.options.classes.contentFixedToolbar);if($.support.cssTransform3d&&!!self.options.animate){$fixedToolbar.addClass(self.options.classes.animate);}}
return $fixedToolbar;};$.extend(this,{_panelID:$el.attr("id"),_closeLink:$el.find(":jqmData(rel='close')"),_page:$el.closest(":jqmData(role='page')"),_pageTheme:_getPageTheme(),_pannelInner:_getPanelInner(),_wrapper:_getWrapper(),_fixedToolbar:_getFixedToolbar()});self._addPanelClasses();self._wrapper.addClass(this.options.classes.contentWrapClosed);self._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed);self._page.addClass(self.options.classes.pagePanel);if($.support.cssTransform3d&&!!self.options.animate){this.element.addClass(self.options.classes.animate);}
self._bindUpdateLayout();self._bindCloseEvents();self._bindLinkListeners();self._bindPageEvents();if(!!self.options.dismissible){self._createModal();}
self._bindSwipeEvents();},_createModal:function(options){var self=this;self._modal=$("<div class='"+self.options.classes.modal+"' data-panelid='"+self._panelID+"'></div>").on("mousedown",function(){self.close();}).appendTo(this._page);},_getPosDisplayClasses:function(prefix){return prefix+"-position-"+this.options.position+" "+prefix+"-display-"+this.options.display;},_getPanelClasses:function(){var panelClasses=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;if(this.options.theme){panelClasses+=" ui-body-"+this.options.theme;}
if(!!this.options.positionFixed){panelClasses+=" "+this.options.classes.panelFixed;}
return panelClasses;},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses());},_bindCloseEvents:function(){var self=this;self._closeLink.on("click.panel",function(e){e.preventDefault();self.close();return false;});self.element.on("click.panel","a:jqmData(ajax='false')",function(e){self.close();});},_positionPanel:function(){var self=this,pannelInnerHeight=self._pannelInner.outerHeight(),expand=pannelInnerHeight>$.mobile.getScreenHeight();if(expand||!self.options.positionFixed){if(expand){self._unfixPanel();$.mobile.resetActivePageHeight(pannelInnerHeight);}
self._scrollIntoView(pannelInnerHeight);}else{self._fixPanel();}},_scrollIntoView:function(pannelInnerHeight){if(pannelInnerHeight<$(window).scrollTop()){window.scrollTo(0,0);}},_bindFixListener:function(){this._on($(window),{"throttledresize":"_positionPanel"});},_unbindFixListener:function(){this._off($(window),"throttledresize");},_unfixPanel:function(){if(!!this.options.positionFixed&&$.support.fixedPosition){this.element.removeClass(this.options.classes.panelFixed);}},_fixPanel:function(){if(!!this.options.positionFixed&&$.support.fixedPosition){this.element.addClass(this.options.classes.panelFixed);}},_bindUpdateLayout:function(){var self=this;self.element.on("updatelayout",function(e){if(self._open){self._positionPanel();}});},_bindLinkListeners:function(){var self=this;self._page.on("click.panel","a",function(e){if(this.href.split("#")[1]===self._panelID&&self._panelID!==undefined){e.preventDefault();var $link=$(this);if(!$link.hasClass("ui-link")){$link.addClass($.mobile.activeBtnClass);self.element.one("panelopen panelclose",function(){$link.removeClass($.mobile.activeBtnClass);});}
self.toggle();return false;}});},_bindSwipeEvents:function(){var self=this,area=self._modal?self.element.add(self._modal):self.element;if(!!self.options.swipeClose){if(self.options.position==="left"){area.on("swipeleft.panel",function(e){self.close();});}else{area.on("swiperight.panel",function(e){self.close();});}}},_bindPageEvents:function(){var self=this;self._page.on("panelbeforeopen",function(e){if(self._open&&e.target!==self.element[0]){self.close();}}).on("pagehide",function(e){if(self._open){self.close(true);}}).on("keyup.panel",function(e){if(e.keyCode===27&&self._open){self.close();}});},_open:false,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(immediate){if(!this._open){var self=this,o=self.options,_openPanel=function(){self._page.off("panelclose");self._page.jqmData("panel","open");if(!immediate&&$.support.cssTransform3d&&!!o.animate){self.element.add(self._wrapper).on(self._transitionEndEvents,complete);}else{setTimeout(complete,0);}
if(self.options.theme&&self.options.display!=="overlay"){self._page.removeClass(self._pageTheme).addClass("ui-body-"+self.options.theme);}
self.element.removeClass(o.classes.panelClosed).addClass(o.classes.panelOpen);self._contentWrapOpenClasses=self._getPosDisplayClasses(o.classes.contentWrap);self._wrapper.removeClass(o.classes.contentWrapClosed).addClass(self._contentWrapOpenClasses+" "+o.classes.contentWrapOpen);self._fixedToolbarOpenClasses=self._getPosDisplayClasses(o.classes.contentFixedToolbar);self._fixedToolbar.removeClass(o.classes.contentFixedToolbarClosed).addClass(self._fixedToolbarOpenClasses+" "+o.classes.contentFixedToolbarOpen);self._modalOpenClasses=self._getPosDisplayClasses(o.classes.modal)+" "+o.classes.modalOpen;if(self._modal){self._modal.addClass(self._modalOpenClasses);}},complete=function(){self.element.add(self._wrapper).off(self._transitionEndEvents,complete);self._page.addClass(o.classes.pagePanelOpen);self._positionPanel();self._bindFixListener();self._trigger("open");};if(this.element.closest(".ui-page-active").length<0){immediate=true;}
self._trigger("beforeopen");if(self._page.jqmData('panel')==="open"){self._page.on("panelclose",function(){_openPanel();});}else{_openPanel();}
self._open=true;}},close:function(immediate){if(this._open){var o=this.options,self=this,_closePanel=function(){if(!immediate&&$.support.cssTransform3d&&!!o.animate){self.element.add(self._wrapper).on(self._transitionEndEvents,complete);}else{setTimeout(complete,0);}
self._page.removeClass(o.classes.pagePanelOpen);self.element.removeClass(o.classes.panelOpen);self._wrapper.removeClass(o.classes.contentWrapOpen);self._fixedToolbar.removeClass(o.classes.contentFixedToolbarOpen);if(self._modal){self._modal.removeClass(self._modalOpenClasses);}},complete=function(){if(self.options.theme&&self.options.display!=="overlay"){self._page.removeClass("ui-body-"+self.options.theme).addClass(self._pageTheme);}
self.element.add(self._wrapper).off(self._transitionEndEvents,complete);self.element.addClass(o.classes.panelClosed);self._wrapper.removeClass(self._contentWrapOpenClasses).addClass(o.classes.contentWrapClosed);self._fixedToolbar.removeClass(self._fixedToolbarOpenClasses).addClass(o.classes.contentFixedToolbarClosed);self._fixPanel();self._unbindFixListener();$.mobile.resetActivePageHeight();self._page.jqmRemoveData("panel");self._trigger("close");};if(this.element.closest(".ui-page-active").length<0){immediate=true;}
self._trigger("beforeclose");_closePanel();self._open=false;}},toggle:function(options){this[this._open?"close":"open"]();},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var classes=this.options.classes,theme=this.options.theme,hasOtherSiblingPanels=this.element.siblings("."+classes.panel).length;if(!hasOtherSiblingPanels){this._wrapper.children().unwrap();this._page.find("a").unbind("panelopen panelclose");this._page.removeClass(classes.pagePanel);if(this._open){this._page.jqmRemoveData("panel");this._page.removeClass(classes.pagePanelOpen);if(theme){this._page.removeClass("ui-body-"+theme).addClass(this._pageTheme);}
$.mobile.resetActivePageHeight();}}else if(this._open){this._wrapper.removeClass(classes.contentWrapOpen);this._fixedToolbar.removeClass(classes.contentFixedToolbarOpen);this._page.jqmRemoveData("panel");this._page.removeClass(classes.pagePanelOpen);if(theme){this._page.removeClass("ui-body-"+theme).addClass(this._pageTheme);}}
this._pannelInner.children().unwrap();this.element.removeClass([this._getPanelClasses(),classes.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout");this._closeLink.off("click.panel");if(this._modal){this._modal.remove();}
this.element.off(this._transitionEndEvents).removeClass([classes.panelUnfixed,classes.panelClosed,classes.panelOpen].join(" "));}});$(document).bind("pagecreate create",function(e){$.mobile.panel.prototype.enhanceWithin(e.target);});})(jQuery);(function($,undefined){$.widget("mobile.table",$.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var self=this,trs=this.element.find("thead tr");this.element.addClass(this.options.classes.table);self.headers=this.element.find("tr:eq(0)").children();self.allHeaders=self.headers.add(trs.children());trs.each(function(){var coltally=0;$(this).children().each(function(i){var span=parseInt($(this).attr("colspan"),10),sel=":nth-child("+(coltally+1)+")";$(this).jqmData("colstart",coltally+1);if(span){for(var j=0;j<span-1;j++){coltally++;sel+=", :nth-child("+(coltally+1)+")";}}
$(this).jqmData("cells",self.element.find("tr").not(trs.eq(0)).not(this).children(sel));coltally++;});});}});$.mobile.document.bind("pagecreate create",function(e){$.mobile.table.prototype.enhanceWithin(e.target);});})(jQuery);(function($,undefined){$.mobile.table.prototype.options.mode="columntoggle";$.mobile.table.prototype.options.columnBtnTheme=null;$.mobile.table.prototype.options.columnPopupTheme=null;$.mobile.table.prototype.options.columnBtnText="Columns...";$.mobile.table.prototype.options.classes=$.extend($.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"});$.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var $table=$(this),self=$table.data("mobile-table"),o=self.options,ns=$.mobile.ns;if(o.mode!=="columntoggle"){return;}
self.element.addClass(o.classes.columnToggleTable);var id=($table.attr("id")||o.classes.popup)+"-popup",$menuButton=$("<a href='#"+id+"' class='"+o.classes.columnBtn+"' data-"+ns+"rel='popup' data-"+ns+"mini='true'>"+o.columnBtnText+"</a>"),$popup=$("<div data-"+ns+"role='popup' data-"+ns+"role='fieldcontain' class='"+o.classes.popup+"' id='"+id+"'></div>"),$menu=$("<fieldset data-"+ns+"role='controlgroup'></fieldset>");self.headers.not("td").each(function(){var priority=$(this).jqmData("priority"),$cells=$(this).add($(this).jqmData("cells"));if(priority){$cells.addClass(o.classes.priorityPrefix+priority);$("<label><input type='checkbox' checked />"+$(this).text()+"</label>").appendTo($menu).children(0).jqmData("cells",$cells).checkboxradio({theme:o.columnPopupTheme});}});$menu.appendTo($popup);$menu.on("change","input",function(e){if(this.checked){$(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible");}
else{$(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden");}});$menuButton.insertBefore($table).buttonMarkup({theme:o.columnBtnTheme});$popup.insertBefore($table).popup();self.refresh=function(){$menu.find("input").each(function(){this.checked=$(this).jqmData("cells").eq(0).css("display")==="table-cell";$(this).checkboxradio("refresh");});};$.mobile.window.on("throttledresize",self.refresh);self.refresh();});})(jQuery);(function($,undefined){$.mobile.table.prototype.options.mode="reflow";$.mobile.table.prototype.options.classes=$.extend($.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"});$.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var $table=$(this),self=$table.data("mobile-table"),o=self.options;if(o.mode!=="reflow"){return;}
self.element.addClass(o.classes.reflowTable);var reverseHeaders=$(self.allHeaders.get().reverse());reverseHeaders.each(function(i){var $cells=$(this).jqmData("cells"),colstart=$(this).jqmData("colstart"),hierarchyClass=$cells.not(this).filter("thead th").length&&" ui-table-cell-label-top",text=$(this).text();if(text!==""){if(hierarchyClass){var iteration=parseInt($(this).attr("colspan"),10),filter="";if(iteration){filter="td:nth-child("+iteration+"n + "+(colstart)+")";}
$cells.filter(filter).prepend("<b class='"+o.classes.cellLabels+hierarchyClass+"'>"+text+"</b>");}
else{$cells.prepend("<b class='"+o.classes.cellLabels+"'>"+text+"</b>");}}});});})(jQuery);(function($){var meta=$("meta[name=viewport]"),initialContent=meta.attr("content"),disabledZoom=initialContent+",maximum-scale=1, user-scalable=no",enabledZoom=initialContent+",maximum-scale=10, user-scalable=yes",disabledInitially=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(initialContent);$.mobile.zoom=$.extend({},{enabled:!disabledInitially,locked:false,disable:function(lock){if(!disabledInitially&&!$.mobile.zoom.locked){meta.attr("content",disabledZoom);$.mobile.zoom.enabled=false;$.mobile.zoom.locked=lock||false;}},enable:function(unlock){if(!disabledInitially&&(!$.mobile.zoom.locked||unlock===true)){meta.attr("content",enabledZoom);$.mobile.zoom.enabled=true;$.mobile.zoom.locked=false;}},restore:function(){if(!disabledInitially){meta.attr("content",initialContent);$.mobile.zoom.enabled=true;}}});}(jQuery));(function($,undefined){$.widget("mobile.textinput",$.mobile.widget,{options:{theme:null,mini:false,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:false,clearSearchButtonText:null,clearBtnText:"clear text",disabled:false},_create:function(){var self=this,input=this.element,o=this.options,theme=o.theme||$.mobile.getInheritedTheme(this.element,"c"),themeclass=" ui-body-"+theme,miniclass=o.mini?" ui-mini":"",isSearch=input.is("[type='search'], :jqmData(type='search')"),focusedEl,clearbtn,clearBtnText=o.clearSearchButtonText||o.clearBtnText,clearBtnBlacklist=input.is("textarea, :jqmData(type='range')"),inputNeedsClearBtn=!!o.clearBtn&&!clearBtnBlacklist,inputNeedsWrap=input.is("input")&&!input.is(":jqmData(type='range')");function toggleClear(){setTimeout(function(){clearbtn.toggleClass("ui-input-clear-hidden",!input.val());},0);}
$("label[for='"+input.attr("id")+"']").addClass("ui-input-text");focusedEl=input.addClass("ui-input-text ui-body-"+theme);if(typeof input[0].autocorrect!=="undefined"&&!$.support.touchOverflow){input[0].setAttribute("autocorrect","off");input[0].setAttribute("autocomplete","off");}
if(isSearch){focusedEl=input.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+themeclass+miniclass+"'></div>").parent();}else if(inputNeedsWrap){focusedEl=input.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+themeclass+miniclass+"'></div>").parent();}
if(inputNeedsClearBtn||isSearch){clearbtn=$("<a href='#' class='ui-input-clear' title='"+clearBtnText+"'>"+clearBtnText+"</a>").bind("click",function(event){input.val("").focus().trigger("change");clearbtn.addClass("ui-input-clear-hidden");event.preventDefault();}).appendTo(focusedEl).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:o.mini});if(!isSearch){focusedEl.addClass("ui-input-has-clear");}
toggleClear();input.bind("paste cut keyup input focus change blur",toggleClear);}
else if(!inputNeedsWrap&&!isSearch){input.addClass("ui-corner-all ui-shadow-inset"+themeclass+miniclass);}
input.focus(function(){if(o.preventFocusZoom){$.mobile.zoom.disable(true);}
focusedEl.addClass($.mobile.focusClass);}).blur(function(){focusedEl.removeClass($.mobile.focusClass);if(o.preventFocusZoom){$.mobile.zoom.enable(true);}})
if(input.is("textarea")){var extraLineHeight=15,keyupTimeoutBuffer=100,keyupTimeout;this._keyup=function(){var scrollHeight=input[0].scrollHeight,clientHeight=input[0].clientHeight;if(clientHeight<scrollHeight){input.height(scrollHeight+extraLineHeight);}};input.on("keyup change input paste",function(){clearTimeout(keyupTimeout);keyupTimeout=setTimeout(self._keyup,keyupTimeoutBuffer);});this._on($.mobile.document,{"pagechange":"_keyup"});if($.trim(input.val())){this._on($.mobile.window,{"load":"_keyup"});}}
if(input.attr("disabled")){this.disable();}},disable:function(){var $el,isSearch=this.element.is("[type='search'], :jqmData(type='search')"),inputNeedsWrap=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),parentNeedsDisabled=this.element.attr("disabled",true)&&(inputNeedsWrap||isSearch);if(parentNeedsDisabled){$el=this.element.parent();}else{$el=this.element;}
$el.addClass("ui-disabled");return this._setOption("disabled",true);},enable:function(){var $el,isSearch=this.element.is("[type='search'], :jqmData(type='search')"),inputNeedsWrap=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),parentNeedsEnabled=this.element.attr("disabled",false)&&(inputNeedsWrap||isSearch);if(parentNeedsEnabled){$el=this.element.parent();}else{$el=this.element;}
$el.removeClass("ui-disabled");return this._setOption("disabled",false);}});$.mobile.document.bind("pagecreate create",function(e){$.mobile.textinput.prototype.enhanceWithin(e.target,true);});})(jQuery);(function($,undefined){$.mobile.listview.prototype.options.filter=false;$.mobile.listview.prototype.options.filterPlaceholder="Filter items...";$.mobile.listview.prototype.options.filterTheme="c";$.mobile.listview.prototype.options.filterReveal=false;var defaultFilterCallback=function(text,searchValue,item){return text.toString().toLowerCase().indexOf(searchValue)===-1;};$.mobile.listview.prototype.options.filterCallback=defaultFilterCallback;$.mobile.document.delegate("ul, ol","listviewcreate",function(){var list=$(this),listview=list.data("mobile-listview");if(!listview.options.filter){return;}
if(listview.options.filterReveal){list.children().addClass("ui-screen-hidden");}
var wrapper=$("<form>",{"class":"ui-listview-filter ui-bar-"+listview.options.filterTheme,"role":"search"}).submit(function(e){e.preventDefault();search.blur();}),onKeyUp=function(e){var $this=$(this),val=this.value.toLowerCase(),listItems=null,li=list.children(),lastval=$this.jqmData("lastval")+"",childItems=false,itemtext="",item,isCustomFilterCallback=listview.options.filterCallback!==defaultFilterCallback;if(lastval&&lastval===val){return;}
listview._trigger("beforefilter","beforefilter",{input:this});$this.jqmData("lastval",val);if(isCustomFilterCallback||val.length<lastval.length||val.indexOf(lastval)!==0){listItems=list.children();}else{listItems=list.children(":not(.ui-screen-hidden)");if(!listItems.length&&listview.options.filterReveal){listItems=list.children(".ui-screen-hidden");}}
if(val){for(var i=listItems.length-1;i>=0;i--){item=$(listItems[i]);itemtext=item.jqmData("filtertext")||item.text();if(item.is("li:jqmData(role=list-divider)")){item.toggleClass("ui-filter-hidequeue",!childItems);childItems=false;}else if(listview.options.filterCallback(itemtext,val,item)){item.toggleClass("ui-filter-hidequeue",true);}else{childItems=true;}}
listItems.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);listItems.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false);}else{listItems.toggleClass("ui-screen-hidden",!!listview.options.filterReveal);}
listview._addFirstLastClasses(li,listview._getVisibles(li,false),false);},search=$("<input>",{placeholder:listview.options.filterPlaceholder}).attr("data-"+$.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",onKeyUp).appendTo(wrapper).textinput();if(listview.options.inset){wrapper.addClass("ui-listview-filter-inset");}
wrapper.bind("submit",function(){return false;}).insertBefore(list);});})(jQuery);(function($,undefined){$.widget("mobile.slider",$.mobile.widget,{widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false,highlight:false},_create:function(){var self=this,control=this.element,parentTheme=$.mobile.getInheritedTheme(control,"c"),theme=this.options.theme||parentTheme,trackTheme=this.options.trackTheme||parentTheme,cType=control[0].nodeName.toLowerCase(),isSelect=this.isToggleSwitch=cType==="select",isRangeslider=control.parent().is(":jqmData(role='rangeslider')"),selectClass=(this.isToggleSwitch)?"ui-slider-switch":"",controlID=control.attr("id"),$label=$("[for='"+controlID+"']"),labelID=$label.attr("id")||controlID+"-label",label=$label.attr("id",labelID),min=!this.isToggleSwitch?parseFloat(control.attr("min")):0,max=!this.isToggleSwitch?parseFloat(control.attr("max")):control.find("option").length-1,step=window.parseFloat(control.attr("step")||1),miniClass=(this.options.mini||control.jqmData("mini"))?" ui-mini":"",domHandle=document.createElement("a"),handle=$(domHandle),domSlider=document.createElement("div"),slider=$(domSlider),valuebg=this.options.highlight&&!this.isToggleSwitch?(function(){var bg=document.createElement("div");bg.className="ui-slider-bg "+$.mobile.activeBtnClass+" ui-btn-corner-all";return $(bg).prependTo(slider);})():false,options;domHandle.setAttribute("href","#");domSlider.setAttribute("role","application");domSlider.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",selectClass," ui-btn-down-",trackTheme," ui-btn-corner-all",miniClass].join("");domHandle.className="ui-slider-handle";domSlider.appendChild(domHandle);handle.buttonMarkup({corners:true,theme:theme,shadow:true}).attr({"role":"slider","aria-valuemin":min,"aria-valuemax":max,"aria-valuenow":this._value(),"aria-valuetext":this._value(),"title":this._value(),"aria-labelledby":labelID});$.extend(this,{slider:slider,handle:handle,type:cType,step:step,max:max,min:min,valuebg:valuebg,isRangeslider:isRangeslider,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(this.isToggleSwitch){var wrapper=document.createElement("div");wrapper.className="ui-slider-inneroffset";for(var j=0,length=domSlider.childNodes.length;j<length;j++){wrapper.appendChild(domSlider.childNodes[j]);}
domSlider.appendChild(wrapper);handle.addClass("ui-slider-handle-snapping");options=control.find("option");for(var i=0,optionsCount=options.length;i<optionsCount;i++){var side=!i?"b":"a",sliderTheme=!i?" ui-btn-down-"+trackTheme:(" "+$.mobile.activeBtnClass),sliderLabel=document.createElement("div"),sliderImg=document.createElement("span");sliderImg.className=["ui-slider-label ui-slider-label-",side,sliderTheme," ui-btn-corner-all"].join("");sliderImg.setAttribute("role","img");sliderImg.appendChild(document.createTextNode(options[i].innerHTML));$(sliderImg).prependTo(slider);}
self._labels=$(".ui-slider-label",slider);}
label.addClass("ui-slider");control.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input");this._on(control,{"change":"_controlChange","keyup":"_controlKeyup","blur":"_controlBlur","vmouseup":"_controlVMouseUp"});slider.bind("vmousedown",$.proxy(this._sliderVMouseDown,this)).bind("vclick",false);this._on(document,{"vmousemove":"_preventDocumentDrag"});this._on(slider.add(document),{"vmouseup":"_sliderVMouseUp"});slider.insertAfter(control);if(!this.isToggleSwitch&&!isRangeslider){var wrapper=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>";control.add(slider).wrapAll(wrapper);}
if(this.isToggleSwitch){this.handle.bind({focus:function(){slider.addClass($.mobile.focusClass);},blur:function(){slider.removeClass($.mobile.focusClass);}});}
this._on(this.handle,{"vmousedown":"_handleVMouseDown","keydown":"_handleKeydown","keyup":"_handleKeyup"});this.handle.bind("vclick",false);if(this._handleFormReset){this._handleFormReset();}
this.refresh(undefined,undefined,true);},_controlChange:function(event){if(this._trigger("controlchange",event)===false){return false;}
if(!this.mouseMoved){this.refresh(this._value(),true);}},_controlKeyup:function(event){this.refresh(this._value(),true,true);},_controlBlur:function(event){this.refresh(this._value(),true);},_controlVMouseUp:function(event){this._checkedRefresh();},_handleVMouseDown:function(event){this.handle.focus();},_handleKeydown:function(event){var index=this._value();if(this.options.disabled){return;}
switch(event.keyCode){case $.mobile.keyCode.HOME:case $.mobile.keyCode.END:case $.mobile.keyCode.PAGE_UP:case $.mobile.keyCode.PAGE_DOWN:case $.mobile.keyCode.UP:case $.mobile.keyCode.RIGHT:case $.mobile.keyCode.DOWN:case $.mobile.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;this.handle.addClass("ui-state-active");}
break;}
switch(event.keyCode){case $.mobile.keyCode.HOME:this.refresh(this.min);break;case $.mobile.keyCode.END:this.refresh(this.max);break;case $.mobile.keyCode.PAGE_UP:case $.mobile.keyCode.UP:case $.mobile.keyCode.RIGHT:this.refresh(index+this.step);break;case $.mobile.keyCode.PAGE_DOWN:case $.mobile.keyCode.DOWN:case $.mobile.keyCode.LEFT:this.refresh(index-this.step);break;}},_handleKeyup:function(event){if(this._keySliding){this._keySliding=false;this.handle.removeClass("ui-state-active");}},_sliderVMouseDown:function(event){if(this.options.disabled){return false;}
if(this._trigger("beforestart",event)===false){return false;}
this.dragging=true;this.userModified=false;this.mouseMoved=false;if(this.isToggleSwitch){this.beforeStart=this.element[0].selectedIndex;}
this.refresh(event);this._trigger("start");return false;},_sliderVMouseUp:function(){if(this.dragging){this.dragging=false;if(this.isToggleSwitch){this.handle.addClass("ui-slider-handle-snapping");if(this.mouseMoved){if(this.userModified){this.refresh(this.beforeStart===0?1:0);}else{this.refresh(this.beforeStart);}}else{this.refresh(this.beforeStart===0?1:0);}}
this.mouseMoved=false;this._trigger("stop");return false;}},_preventDocumentDrag:function(event){if(this._trigger("drag",event)===false){return false;}
if(this.dragging&&!this.options.disabled){this.mouseMoved=true;if(this.isToggleSwitch){this.handle.removeClass("ui-slider-handle-snapping");}
this.refresh(event);this.userModified=this.beforeStart!==this.element[0].selectedIndex;return false;}},_checkedRefresh:function(){if(this.value!=this._value()){this.refresh(this._value());}},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val());},_reset:function(){this.refresh(undefined,false,true);},refresh:function(val,isfromControl,preventInputUpdate){var self=this,parentTheme=$.mobile.getInheritedTheme(this.element,"c"),theme=this.options.theme||parentTheme,trackTheme=this.options.trackTheme||parentTheme;self.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+trackTheme,' ui-btn-corner-all',(this.options.mini)?" ui-mini":""].join("");if(this.options.disabled||this.element.attr("disabled")){this.disable();}
this.value=this._value();if(this.options.highlight&&!this.isToggleSwitch&&this.slider.find(".ui-slider-bg").length===0){this.valuebg=(function(){var bg=document.createElement("div");bg.className="ui-slider-bg "+$.mobile.activeBtnClass+" ui-btn-corner-all";return $(bg).prependTo(self.slider);})();}
this.handle.buttonMarkup({corners:true,theme:theme,shadow:true});var pxStep,percent,control=this.element,isInput=!this.isToggleSwitch,optionElements=isInput?[]:control.find("option"),min=isInput?parseFloat(control.attr("min")):0,max=isInput?parseFloat(control.attr("max")):optionElements.length-1,step=(isInput&&parseFloat(control.attr("step"))>0)?parseFloat(control.attr("step")):1;if(typeof val==="object"){var left,width,data=val,tol=8;left=this.slider.offset().left;width=this.slider.width();pxStep=width/((max-min)/step);if(!this.dragging||data.pageX<left-tol||data.pageX>left+width+tol){return;}
if(pxStep>1){percent=((data.pageX-left)/width)*100;}else{percent=Math.round(((data.pageX-left)/width)*100);}}else{if(val==null){val=isInput?parseFloat(control.val()||0):control[0].selectedIndex;}
percent=(parseFloat(val)-min)/(max-min)*100;}
if(isNaN(percent)){return;}
var newval=(percent/100)*(max-min)+min;var valModStep=(newval-min)%step;var alignValue=newval-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
var percentPerStep=100/((max-min)/step);newval=parseFloat(alignValue.toFixed(5));if(typeof pxStep==="undefined"){pxStep=width/((max-min)/step);}
if(pxStep>1&&isInput){percent=(newval-min)*percentPerStep*(1/step);}
if(percent<0){percent=0;}
if(percent>100){percent=100;}
if(newval<min){newval=min;}
if(newval>max){newval=max;}
this.handle.css("left",percent+"%");this.handle[0].setAttribute("aria-valuenow",isInput?newval:optionElements.eq(newval).attr("value"));this.handle[0].setAttribute("aria-valuetext",isInput?newval:optionElements.eq(newval).getEncodedText());this.handle[0].setAttribute("title",isInput?newval:optionElements.eq(newval).getEncodedText());if(this.valuebg){this.valuebg.css("width",percent+"%");}
if(this._labels){var handlePercent=this.handle.width()/this.slider.width()*100,aPercent=percent&&handlePercent+(100-handlePercent)*percent/100,bPercent=percent===100?0:Math.min(handlePercent+100-aPercent,100);this._labels.each(function(){var ab=$(this).is(".ui-slider-label-a");$(this).width((ab?aPercent:bPercent)+"%");});}
if(!preventInputUpdate){var valueChanged=false;if(isInput){valueChanged=control.val()!==newval;control.val(newval);}else{valueChanged=control[0].selectedIndex!==newval;control[0].selectedIndex=newval;}
if(this._trigger("beforechange",val)===false){return false;}
if(!isfromControl&&valueChanged){control.trigger("change");}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false);},disable:function(){this.element.attr("disabled",true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true);}});$.widget("mobile.slider",$.mobile.slider,$.mobile.behaviors.formReset);$.mobile.document.bind("pagecreate create",function(e){$.mobile.slider.prototype.enhanceWithin(e.target,true);});})(jQuery);(function($,undefined){$.widget("mobile.rangeslider",$.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:":jqmData(role='rangeslider')",mini:false,highlight:true},_create:function(){var secondLabel,$el=this.element,elClass=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",_inputFirst=$el.find("input").first(),_inputLast=$el.find("input").last(),label=$el.find("label").first(),_sliderFirst=$.data(_inputFirst.get(0),"mobileSlider").slider,_sliderLast=$.data(_inputLast.get(0),"mobileSlider").slider,firstHandle=$.data(_inputFirst.get(0),"mobileSlider").handle,_sliders=$("<div class=\"ui-rangeslider-sliders\" />").appendTo($el);if($el.find("label").length>1){secondLabel=$el.find("label").last().hide();}
_inputFirst.addClass("ui-rangeslider-first");_inputLast.addClass("ui-rangeslider-last");$el.addClass(elClass);_sliderFirst.appendTo(_sliders);_sliderLast.appendTo(_sliders);label.prependTo($el);firstHandle.prependTo(_sliderLast);$.extend(this,{_inputFirst:_inputFirst,_inputLast:_inputLast,_sliderFirst:_sliderFirst,_sliderLast:_sliderLast,_targetVal:null,_sliderTarget:false,_sliders:_sliders,_proxy:false});this.refresh();this._on(this.element.find("input.ui-slider-input"),{"slidebeforestart":"_slidebeforestart","slidestop":"_slidestop","slidedrag":"_slidedrag","slidebeforechange":"_change","blur":"_change","keyup":"_change"});this._on(firstHandle,{"vmousedown":"_dragFirstHandle"});},_dragFirstHandle:function(event){$.data(this._inputFirst.get(0),"mobileSlider").dragging=true;$.data(this._inputFirst.get(0),"mobileSlider").refresh(event);return false;},_slidedrag:function(event){var first=$(event.target).is(this._inputFirst),otherSlider=(first)?this._inputLast:this._inputFirst;this._sliderTarget=false;if((this._proxy==="first"&&first)||(this._proxy==="last"&&!first)){$.data(otherSlider.get(0),"mobileSlider").dragging=true;$.data(otherSlider.get(0),"mobileSlider").refresh(event);return false;}},_slidestop:function(event){var first=$(event.target).is(this._inputFirst);this._proxy=false;this.element.find("input").trigger("vmouseup");this._sliderFirst.css("z-index",first?1:"");},_slidebeforestart:function(event){this._sliderTarget=false;if($(event.originalEvent.target).hasClass("ui-slider-track")){this._sliderTarget=true;this._targetVal=$(event.target).val();}},_setOption:function(options){this._superApply(options);this.refresh();},refresh:function(){var $el=this.element,o=this.options;$el.find("input").slider({theme:o.theme,trackTheme:o.trackTheme,disabled:o.disabled,mini:o.mini,highlight:o.highlight}).slider("refresh");this._updateHighlight();},_change:function(event){if(event.type=="keyup"){this._updateHighlight();return false;}
var min=parseFloat(this._inputFirst.val(),10),max=parseFloat(this._inputLast.val(),10),first=$(event.target).hasClass("ui-rangeslider-first"),thisSlider=first?this._inputFirst:this._inputLast,otherSlider=first?this._inputLast:this._inputFirst;if(min>max&&!this._sliderTarget){thisSlider.val(first?max:min).slider("refresh");this._trigger("normalize");}else if(min>max){thisSlider.val(this._targetVal).slider("refresh");var self=this;setTimeout(function(){otherSlider.val(first?min:max).slider("refresh");$.data(otherSlider.get(0),"mobileSlider").handle.focus();self._sliderFirst.css("z-index",first?"":1);self._trigger("normalize");},0);this._proxy=(first)?"first":"last";}
if(min===max){$.data(thisSlider.get(0),"mobileSlider").handle.css("z-index",1);$.data(otherSlider.get(0),"mobileSlider").handle.css("z-index",0);}else{$.data(otherSlider.get(0),"mobileSlider").handle.css("z-index","");$.data(thisSlider.get(0),"mobileSlider").handle.css("z-index","");}
this._updateHighlight();if(min>=max){return false;}},_updateHighlight:function(){var min=parseInt($.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),max=parseInt($.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),width=(max-min);this.element.find(".ui-slider-bg").css({"margin-left":min+"%","width":width+"%"});},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show();this._inputFirst.after(this._sliderFirst);this._inputLast.after(this._sliderLast);this._sliders.remove();this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy");}});$.widget("mobile.rangeslider",$.mobile.rangeslider,$.mobile.behaviors.formReset);$(document).bind("pagecreate create",function(e){$.mobile.rangeslider.prototype.enhanceWithin(e.target,true);});})(jQuery);(function($,undefined){$.widget("mobile.selectmenu",$.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:false},_button:function(){return $("<div/>");},_setDisabled:function(value){this.element.attr("disabled",value);this.button.attr("aria-disabled",value);return this._setOption("disabled",value);},_focusButton:function(){var self=this;setTimeout(function(){self.button.focus();},40);},_selectOptions:function(){return this.select.find("option");},_preExtension:function(){var classes="";if(!!~this.element[0].className.indexOf("ui-btn-left")){classes=" ui-btn-left";}
if(!!~this.element[0].className.indexOf("ui-btn-right")){classes=" ui-btn-right";}
this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+classes+"'>");this.selectID=this.select.attr("id");this.label=$("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme){this.options.theme=$.mobile.getInheritedTheme(this.select,"c");}},_destroy:function(){var wrapper=this.element.parents(".ui-select");if(wrapper.length>0){if(wrapper.is(".ui-btn-left, .ui-btn-right")){this.element.addClass(wrapper.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right");}
this.element.insertAfter(wrapper);wrapper.remove();}},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var self=this,options=this.options,inline=options.inline||this.select.jqmData("inline"),mini=options.mini||this.select.jqmData("mini"),iconpos=options.icon?(options.iconpos||this.select.jqmData("iconpos")):false,selectedIndex=this.select[0].selectedIndex===-1?0:this.select[0].selectedIndex,button=this.button.insertBefore(this.select).buttonMarkup({theme:options.theme,icon:options.icon,iconpos:iconpos,inline:inline,corners:options.corners,shadow:options.shadow,iconshadow:options.iconshadow,mini:mini});this.setButtonText();if(options.nativeMenu&&window.opera&&window.opera.version){button.addClass("ui-select-nativeonly");}
if(this.isMultiple){this.buttonCount=$("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(button.addClass('ui-li-has-count'));}
if(options.disabled||this.element.attr('disabled')){this.disable();}
this.select.change(function(){self.refresh();});if(this._handleFormReset){this._handleFormReset();}
this.build();},build:function(){var self=this;this.select.appendTo(self.button).bind("vmousedown",function(){self.button.addClass($.mobile.activeBtnClass);}).bind("focus",function(){self.button.addClass($.mobile.focusClass);}).bind("blur",function(){self.button.removeClass($.mobile.focusClass);}).bind("focus vmouseover",function(){self.button.trigger("vmouseover");}).bind("vmousemove",function(){self.button.removeClass($.mobile.activeBtnClass);}).bind("change blur vmouseout",function(){self.button.trigger("vmouseout").removeClass($.mobile.activeBtnClass);}).bind("change blur",function(){self.button.removeClass("ui-btn-down-"+self.options.theme);});self.button.bind("vmousedown",function(){if(self.options.preventFocusZoom){$.mobile.zoom.disable(true);}});self.label.bind("click focus",function(){if(self.options.preventFocusZoom){$.mobile.zoom.disable(true);}});self.select.bind("focus",function(){if(self.options.preventFocusZoom){$.mobile.zoom.disable(true);}});self.button.bind("mouseup",function(){if(self.options.preventFocusZoom){setTimeout(function(){$.mobile.zoom.enable(true);},0);}});self.select.bind("blur",function(){if(self.options.preventFocusZoom){$.mobile.zoom.enable(true);}});},selected:function(){return this._selectOptions().filter(":selected");},selectedIndices:function(){var self=this;return this.selected().map(function(){return self._selectOptions().index(this);}).get();},setButtonText:function(){var self=this,selected=this.selected(),text=this.placeholder,span=$(document.createElement("span"));this.button.find(".ui-btn-text").html(function(){if(selected.length){text=selected.map(function(){return $(this).text();}).get().join(", ");}else{text=self.placeholder;}
return span.text(text).addClass(self.select.attr("class")).addClass(selected.attr("class"));});},setButtonCount:function(){var selected=this.selected();if(this.isMultiple){this.buttonCount[selected.length>1?"show":"hide"]().text(selected.length);}},_reset:function(){this.refresh();},refresh:function(){this.setButtonText();this.setButtonCount();},open:$.noop,close:$.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled");},enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled");}});$.widget("mobile.selectmenu",$.mobile.selectmenu,$.mobile.behaviors.formReset);$.mobile.document.bind("pagecreate create",function(e){$.mobile.selectmenu.prototype.enhanceWithin(e.target,true);});})(jQuery);(function($,undefined){var extendSelect=function(widget){var select=widget.select,origDestroy=widget._destroy,selectID=widget.selectID,prefix=(selectID?selectID:(($.mobile.ns||"")+"uuid-"+widget.uuid)),popupID=prefix+"-listbox",dialogID=prefix+"-dialog",label=widget.label,thisPage=widget.select.closest(".ui-page"),selectOptions=widget._selectOptions(),isMultiple=widget.isMultiple=widget.select[0].multiple,buttonId=selectID+"-button",menuId=selectID+"-menu",menuPage=$("<div data-"+$.mobile.ns+"role='dialog' id='"+dialogID+"' data-"+$.mobile.ns+"theme='"+widget.options.theme+"' data-"+$.mobile.ns+"overlay-theme='"+widget.options.overlayTheme+"'>"+"<div data-"+$.mobile.ns+"role='header'>"+"<div class='ui-title'>"+label.getEncodedText()+"</div>"+"</div>"+"<div data-"+$.mobile.ns+"role='content'></div>"+"</div>"),listbox=$("<div id='"+popupID+"' class='ui-selectmenu'>").insertAfter(widget.select).popup({theme:widget.options.overlayTheme}),list=$("<ul>",{"class":"ui-selectmenu-list","id":menuId,"role":"listbox","aria-labelledby":buttonId}).attr("data-"+$.mobile.ns+"theme",widget.options.theme).attr("data-"+$.mobile.ns+"divider-theme",widget.options.dividerTheme).appendTo(listbox),header=$("<div>",{"class":"ui-header ui-bar-"+widget.options.theme}).prependTo(listbox),headerTitle=$("<h1>",{"class":"ui-title"}).appendTo(header),menuPageContent,menuPageClose,headerClose;if(widget.isMultiple){headerClose=$("<a>",{"text":widget.options.closeText,"href":"#","class":"ui-btn-left"}).attr("data-"+$.mobile.ns+"iconpos","notext").attr("data-"+$.mobile.ns+"icon","delete").appendTo(header).buttonMarkup();}
$.extend(widget,{select:widget.select,selectID:selectID,buttonId:buttonId,menuId:menuId,popupID:popupID,dialogID:dialogID,thisPage:thisPage,menuPage:menuPage,label:label,selectOptions:selectOptions,isMultiple:isMultiple,theme:widget.options.theme,listbox:listbox,list:list,header:header,headerTitle:headerTitle,headerClose:headerClose,menuPageContent:menuPageContent,menuPageClose:menuPageClose,placeholder:"",build:function(){var self=this;self.refresh();if(self._origTabIndex===undefined){self._origTabIndex=(self.select[0].getAttribute("tabindex")===null)?false:self.select.attr("tabindex");}
self.select.attr("tabindex","-1").focus(function(){$(this).blur();self.button.focus();});self.button.bind("vclick keydown",function(event){if(self.options.disabled||self.isOpen){return;}
if(event.type==="vclick"||event.keyCode&&(event.keyCode===$.mobile.keyCode.ENTER||event.keyCode===$.mobile.keyCode.SPACE)){self._decideFormat();if(self.menuType==="overlay"){self.button.attr("href","#"+self.popupID).attr("data-"+($.mobile.ns||"")+"rel","popup");}else{self.button.attr("href","#"+self.dialogID).attr("data-"+($.mobile.ns||"")+"rel","dialog");}
self.isOpen=true;}});self.list.attr("role","listbox").bind("focusin",function(e){$(e.target).attr("tabindex","0").trigger("vmouseover");}).bind("focusout",function(e){$(e.target).attr("tabindex","-1").trigger("vmouseout");}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(event){var oldIndex=self.select[0].selectedIndex,newIndex=self.list.find("li:not(.ui-li-divider)").index(this),option=self._selectOptions().eq(newIndex)[0];option.selected=self.isMultiple?!option.selected:true;if(self.isMultiple){$(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",option.selected).toggleClass("ui-icon-checkbox-off",!option.selected);}
if(self.isMultiple||oldIndex!==newIndex){self.select.trigger("change");}
if(self.isMultiple){self.list.find("li:not(.ui-li-divider)").eq(newIndex).addClass("ui-btn-down-"+widget.options.theme).find("a").first().focus();}
else{self.close();}
event.preventDefault();}).keydown(function(event){var target=$(event.target),li=target.closest("li"),prev,next;switch(event.keyCode){case 38:prev=li.prev().not(".ui-selectmenu-placeholder");if(prev.is(".ui-li-divider")){prev=prev.prev();}
if(prev.length){target.blur().attr("tabindex","-1");prev.addClass("ui-btn-down-"+widget.options.theme).find("a").first().focus();}
return false;case 40:next=li.next();if(next.is(".ui-li-divider")){next=next.next();}
if(next.length){target.blur().attr("tabindex","-1");next.addClass("ui-btn-down-"+widget.options.theme).find("a").first().focus();}
return false;case 13:case 32:target.trigger("click");return false;}});self.menuPage.bind("pagehide",function(){$.mobile._bindPageRemove.call(self.thisPage);});self.listbox.bind("popupafterclose",function(event){self.close();});if(self.isMultiple){self.headerClose.click(function(){if(self.menuType==="overlay"){self.close();return false;}});}
self.thisPage.addDependents(this.menuPage);},_isRebuildRequired:function(){var list=this.list.find("li"),options=this._selectOptions();return options.text()!==list.text();},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )");},refresh:function(forceRebuild,foo){var self=this,select=this.element,isMultiple=this.isMultiple,indicies;if(forceRebuild||this._isRebuildRequired()){self._buildList();}
indicies=this.selectedIndices();self.setButtonText();self.setButtonCount();self.list.find("li:not(.ui-li-divider)").removeClass($.mobile.activeBtnClass).attr("aria-selected",false).each(function(i){if($.inArray(i,indicies)>-1){var item=$(this);item.attr("aria-selected",true);if(self.isMultiple){item.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on");}else{if(item.is(".ui-selectmenu-placeholder")){item.next().addClass($.mobile.activeBtnClass);}else{item.addClass($.mobile.activeBtnClass);}}}});},close:function(){if(this.options.disabled||!this.isOpen){return;}
var self=this;if(self.menuType==="page"){self.menuPage.dialog("close");self.list.appendTo(self.listbox);}else{self.listbox.popup("close");}
self._focusButton();self.isOpen=false;},open:function(){this.button.click();},_decideFormat:function(){var self=this,$window=$.mobile.window,selfListParent=self.list.parent(),menuHeight=selfListParent.outerHeight(),menuWidth=selfListParent.outerWidth(),activePage=$("."+$.mobile.activePageClass),scrollTop=$window.scrollTop(),btnOffset=self.button.offset().top,screenHeight=$window.height(),screenWidth=$window.width();function focusMenuItem(){var selector=self.list.find("."+$.mobile.activeBtnClass+" a");if(selector.length===0){selector=self.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a");}
selector.first().focus().closest("li").addClass("ui-btn-down-"+widget.options.theme);}
if(menuHeight>screenHeight-80||!$.support.scrollTop){self.menuPage.appendTo($.mobile.pageContainer).page();self.menuPageContent=menuPage.find(".ui-content");self.menuPageClose=menuPage.find(".ui-header a");self.thisPage.unbind("pagehide.remove");if(scrollTop===0&&btnOffset>screenHeight){self.thisPage.one("pagehide",function(){$(this).jqmData("lastScroll",btnOffset);});}
self.menuPage.one("pageshow",function(){focusMenuItem();}).one("pagehide",function(){self.close();});self.menuType="page";self.menuPageContent.append(self.list);self.menuPage.find("div .ui-title").text(self.label.text());}else{self.menuType="overlay";self.listbox.one("popupafteropen",focusMenuItem);}},_buildList:function(){var self=this,o=this.options,placeholder=this.placeholder,needPlaceholder=true,optgroups=[],lis=[],dataIcon=self.isMultiple?"checkbox-off":"false";self.list.empty().filter(".ui-listview").listview("destroy");var $options=self.select.find("option"),numOptions=$options.length,select=this.select[0],dataPrefix='data-'+$.mobile.ns,dataIndexAttr=dataPrefix+'option-index',dataIconAttr=dataPrefix+'icon',dataRoleAttr=dataPrefix+'role',dataPlaceholderAttr=dataPrefix+'placeholder',fragment=document.createDocumentFragment(),isPlaceholderItem=false,optGroup;for(var i=0;i<numOptions;i++,isPlaceholderItem=false){var option=$options[i],$option=$(option),parent=option.parentNode,text=$option.text(),anchor=document.createElement('a'),classes=[];anchor.setAttribute('href','#');anchor.appendChild(document.createTextNode(text));if(parent!==select&&parent.nodeName.toLowerCase()==="optgroup"){var optLabel=parent.getAttribute('label');if(optLabel!==optGroup){var divider=document.createElement('li');divider.setAttribute(dataRoleAttr,'list-divider');divider.setAttribute('role','option');divider.setAttribute('tabindex','-1');divider.appendChild(document.createTextNode(optLabel));fragment.appendChild(divider);optGroup=optLabel;}}
if(needPlaceholder&&(!option.getAttribute("value")||text.length===0||$option.jqmData("placeholder"))){needPlaceholder=false;isPlaceholderItem=true;if(null===option.getAttribute(dataPlaceholderAttr)){this._removePlaceholderAttr=true;}
option.setAttribute(dataPlaceholderAttr,true);if(o.hidePlaceholderMenuItems){classes.push("ui-selectmenu-placeholder");}
if(placeholder!==text){placeholder=self.placeholder=text;}}
var item=document.createElement('li');if(option.disabled){classes.push("ui-disabled");item.setAttribute('aria-disabled',true);}
item.setAttribute(dataIndexAttr,i);item.setAttribute(dataIconAttr,dataIcon);if(isPlaceholderItem){item.setAttribute(dataPlaceholderAttr,true);}
item.className=classes.join(" ");item.setAttribute('role','option');anchor.setAttribute('tabindex','-1');item.appendChild(anchor);fragment.appendChild(item);}
self.list[0].appendChild(fragment);if(!this.isMultiple&&!placeholder.length){this.header.hide();}else{this.headerTitle.text(this.placeholder);}
self.list.listview();},_button:function(){return $("<a>",{"href":"#","role":"button","id":this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId});},_destroy:function(){this.close();if(this._origTabIndex!==undefined){if(this._origTabIndex!==false){this.select.attr("tabindex",this._origTabIndex);}else{this.select.removeAttr("tabindex");}}
if(this._removePlaceholderAttr){this._selectOptions().removeAttr("data-"+$.mobile.ns+"placeholder");}
this.listbox.remove();origDestroy.apply(this,arguments);}});};$.mobile.document.bind("selectmenubeforecreate",function(event){var selectmenuWidget=$(event.target).data("mobile-selectmenu");if(!selectmenuWidget.options.nativeMenu&&selectmenuWidget.element.parents(":jqmData(role='popup')").length===0){extendSelect(selectmenuWidget);}});})(jQuery);(function($,undefined){$.widget("mobile.fixedtoolbar",$.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,tapToggle:true,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){return!$.support.fixedPosition;},initSelector:":jqmData(position='fixed')"},_create:function(){var self=this,o=self.options,$el=self.element,tbtype=$el.is(":jqmData(role='header')")?"header":"footer",$page=$el.closest(".ui-page");if(o.supportBlacklist()){self.destroy();return;}
$el.addClass("ui-"+tbtype+"-fixed");if(o.fullscreen){$el.addClass("ui-"+tbtype+"-fullscreen");$page.addClass("ui-page-"+tbtype+"-fullscreen");}
else{$page.addClass("ui-page-"+tbtype+"-fixed");}
$.extend(this,{_thisPage:null});self._addTransitionClass();self._bindPageEvents();self._bindToggleHandlers();},_addTransitionClass:function(){var tclass=this.options.transition;if(tclass&&tclass!=="none"){if(tclass==="slide"){tclass=this.element.is(".ui-header")?"slidedown":"slideup";}
this.element.addClass(tclass);}},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page");this._on(this._thisPage,{"pagebeforeshow":"_handlePageBeforeShow","webkitAnimationStart":"_handleAnimationStart","animationstart":"_handleAnimationStart","updatelayout":"_handleAnimationStart","pageshow":"_handlePageShow","pagebeforehide":"_handlePageBeforeHide"});},_handlePageBeforeShow:function(){var o=this.options;if(o.disablePageZoom){$.mobile.zoom.disable(true);}
if(!o.visibleOnPageShow){this.hide(true);}},_handleAnimationStart:function(){if(this.options.updatePagePadding){this.updatePagePadding(this._thisPage);}},_handlePageShow:function(){this.updatePagePadding(this._thisPage);if(this.options.updatePagePadding){this._on($.mobile.window,{"throttledresize":"updatePagePadding"});}},_handlePageBeforeHide:function(e,ui){var o=this.options;if(o.disablePageZoom){$.mobile.zoom.enable(true);}
if(o.updatePagePadding){this._off($.mobile.window,"throttledresize");}
if(o.trackPersistentToolbars){var thisFooter=$(".ui-footer-fixed:jqmData(id)",this._thisPage),thisHeader=$(".ui-header-fixed:jqmData(id)",this._thisPage),nextFooter=thisFooter.length&&ui.nextPage&&$(".ui-footer-fixed:jqmData(id='"+thisFooter.jqmData("id")+"')",ui.nextPage)||$(),nextHeader=thisHeader.length&&ui.nextPage&&$(".ui-header-fixed:jqmData(id='"+thisHeader.jqmData("id")+"')",ui.nextPage)||$();if(nextFooter.length||nextHeader.length){nextFooter.add(nextHeader).appendTo($.mobile.pageContainer);ui.nextPage.one("pageshow",function(){nextHeader.prependTo(this);nextFooter.appendTo(this);});}}},_visible:true,updatePagePadding:function(tbPage){var $el=this.element,header=$el.is(".ui-header"),pos=parseFloat($el.css(header?"top":"bottom"));if(this.options.fullscreen){return;}
tbPage=tbPage||this._thisPage||$el.closest(".ui-page");$(tbPage).css("padding-"+(header?"top":"bottom"),$el.outerHeight()+pos);},_useTransition:function(notransition){var $win=$.mobile.window,$el=this.element,scroll=$win.scrollTop(),elHeight=$el.height(),pHeight=$el.closest(".ui-page").height(),viewportHeight=$.mobile.getScreenHeight(),tbtype=$el.is(":jqmData(role='header')")?"header":"footer";return!notransition&&(this.options.transition&&this.options.transition!=="none"&&((tbtype==="header"&&!this.options.fullscreen&&scroll>elHeight)||(tbtype==="footer"&&!this.options.fullscreen&&scroll+viewportHeight<pHeight-elHeight))||this.options.fullscreen);},show:function(notransition){var hideClass="ui-fixed-hidden",$el=this.element;if(this._useTransition(notransition)){$el.removeClass("out "+hideClass).addClass("in").animationComplete(function(){$el.removeClass('in');});}
else{$el.removeClass(hideClass);}
this._visible=true;},hide:function(notransition){var hideClass="ui-fixed-hidden",$el=this.element,outclass="out"+(this.options.transition==="slide"?" reverse":"");if(this._useTransition(notransition)){$el.addClass(outclass).removeClass("in").animationComplete(function(){$el.addClass(hideClass).removeClass(outclass);});}
else{$el.addClass(hideClass).removeClass(outclass);}
this._visible=false;},toggle:function(){this[this._visible?"hide":"show"]();},_bindToggleHandlers:function(){var self=this,delay,o=self.options,$el=self.element;$el.closest(".ui-page").bind("vclick",function(e){if(o.tapToggle&&!$(e.target).closest(o.tapToggleBlacklist).length){self.toggle();}}).bind("focusin focusout",function(e){if(screen.width<1025&&$(e.target).is(o.hideDuringFocus)&&!$(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length){if(e.type==="focusout"&&!self._visible){delay=setTimeout(function(){self.show();},0);}else if(e.type==="focusin"&&self._visible){clearTimeout(delay);self.hide();}}});},_destroy:function(){var $el=this.element,header=$el.is(".ui-header");$el.closest(".ui-page").css("padding-"+(header?"top":"bottom"),"");$el.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");$el.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen");}});$.mobile.document.bind("pagecreate create",function(e){if($(e.target).jqmData("fullscreen")){$($.mobile.fixedtoolbar.prototype.options.initSelector,e.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);}
$.mobile.fixedtoolbar.prototype.enhanceWithin(e.target);});})(jQuery);(function($,undefined){$.widget("mobile.fixedtoolbar",$.mobile.fixedtoolbar,{_create:function(){this._super();this._workarounds();},_workarounds:function(){var ua=navigator.userAgent,platform=navigator.platform,wkmatch=ua.match(/AppleWebKit\/([0-9]+)/),wkversion=!!wkmatch&&wkmatch[1],os=null,self=this;if(platform.indexOf("iPhone")>-1||platform.indexOf("iPad")>-1||platform.indexOf("iPod")>-1){os="ios";}else if(ua.indexOf("Android")>-1){os="android";}else{return;}
if(os==="ios"){self._bindScrollWorkaround();}else if(os==="android"&&wkversion&&wkversion<534){self._bindScrollWorkaround();self._bindListThumbWorkaround();}else{return;}},_viewportOffset:function(){var $el=this.element,header=$el.is(".ui-header"),offset=Math.abs($el.offset().top-$.mobile.window.scrollTop());if(!header){offset=Math.round(offset-$.mobile.window.height()+$el.outerHeight())-60;}
return offset;},_bindScrollWorkaround:function(){var self=this;this._on($.mobile.window,{scrollstop:function(){var viewportOffset=self._viewportOffset();if(viewportOffset>2&&self._visible){self._triggerRedraw();}}});},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed");},_triggerRedraw:function(){var paddingBottom=parseFloat($(".ui-page-active").css("padding-bottom"));$(".ui-page-active").css("padding-bottom",(paddingBottom+1)+"px");setTimeout(function(){$(".ui-page-active").css("padding-bottom",paddingBottom+"px");},0);},destroy:function(){this._super();this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix");}});})(jQuery);(function($,window){$.mobile.iosorientationfixEnabled=true;var ua=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(ua)&&ua.indexOf("AppleWebKit")>-1)){$.mobile.iosorientationfixEnabled=false;return;}
var zoom=$.mobile.zoom,evt,x,y,z,aig;function checkTilt(e){evt=e.originalEvent;aig=evt.accelerationIncludingGravity;x=Math.abs(aig.x);y=Math.abs(aig.y);z=Math.abs(aig.z);if(!window.orientation&&(x>7||((z>6&&y<8||z<8&&y>6)&&x>5))){if(zoom.enabled){zoom.disable();}}else if(!zoom.enabled){zoom.enable();}}
$.mobile.document.on("mobileinit",function(){if($.mobile.iosorientationfixEnabled){$.mobile.window.bind("orientationchange.iosorientationfix",zoom.enable).bind("devicemotion.iosorientationfix",checkTilt);}});}(jQuery,this));(function($,window,undefined){var $html=$("html"),$head=$("head"),$window=$.mobile.window;function hideRenderingClass(){$html.removeClass("ui-mobile-rendering");}
$(window.document).trigger("mobileinit");if(!$.mobile.gradeA()){return;}
if($.mobile.ajaxBlacklist){$.mobile.ajaxEnabled=false;}
$html.addClass("ui-mobile ui-mobile-rendering");setTimeout(hideRenderingClass,5000);$.extend($.mobile,{initializePage:function(){var path=$.mobile.path,$pages=$(":jqmData(role='page'), :jqmData(role='dialog')"),hash=path.stripHash(path.stripQueryParams(path.parseLocation().hash)),hashPage=document.getElementById(hash);if(!$pages.length){$pages=$("body").wrapInner("<div data-"+$.mobile.ns+"role='page'></div>").children(0);}
$pages.each(function(){var $this=$(this);if(!$this.jqmData("url")){$this.attr("data-"+$.mobile.ns+"url",$this.attr("id")||location.pathname+location.search);}});$.mobile.firstPage=$pages.first();$.mobile.pageContainer=$.mobile.firstPage.parent().addClass("ui-mobile-viewport");$window.trigger("pagecontainercreate");$.mobile.showPageLoadingMsg();hideRenderingClass();if(!($.mobile.hashListeningEnabled&&$.mobile.path.isHashValid(location.hash)&&($(hashPage).is(':jqmData(role="page")')||$.mobile.path.isPath(hash)||hash===$.mobile.dialogHashKey))){if($.mobile.path.isHashValid(location.hash)){$.mobile.urlHistory.initialDst=hash.replace("#","");}
if($.event.special.navigate.isPushStateEnabled()){$.mobile.navigate.navigator.squash(path.parseLocation().href);}
$.mobile.changePage($.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true});}else{if(!$.event.special.navigate.isPushStateEnabled()){$window.trigger("hashchange",[true]);}else{$.mobile.navigate.history.stack=[];$.mobile.navigate($.mobile.path.isPath(location.hash)?location.hash:location.href);}}}});$.mobile.navreadyDeferred.resolve();$(function(){window.scrollTo(0,1);$.mobile.defaultHomeScroll=(!$.support.scrollTop||$.mobile.window.scrollTop()===1)?0:1;if($.mobile.autoInitializePage){$.mobile.initializePage();}
$window.load($.mobile.silentScroll);if(!$.support.cssPointerEvents){$.mobile.document.delegate(".ui-disabled","vclick",function(e){e.preventDefault();e.stopImmediatePropagation();});}});}(jQuery,this));}));function showState(){$.mobile.loading('show',{theme:$.mobile.loader.prototype.options.theme,msgText:$.mobile.loader.prototype.options.text,textVisible:$.mobile.loader.prototype.options.textVisible,textonly:false,html:""});}
$.checkbox=function(elname){$("#"+elname).attr("checked",true);var RSp=$("label[for='"+elname+"']")[0];RSp.className="ui-checkbox-on ui-btn ui-btn-corner-all ui-fullsize ui-btn-icon-left ui-first-child ui-btn-up-c";var RSpS=RSp.getElementsByTagName("span");for(var i=0;i<RSpS.length;i++){if(RSpS[i].className.indexOf("ui-icon-checkbox-off")>-1){RSpS[i].className="ui-icon ui-icon-checkbox-on ui-icon-shadow";}}}